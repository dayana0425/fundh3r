'use strict';

function _interopNamespace(e) {
  if (e && e.__esModule) return e;
  var n = Object.create(null);
  if (e) {
    Object.keys(e).forEach(function (k) {
      if (k !== 'default') {
        var d = Object.getOwnPropertyDescriptor(e, k);
        Object.defineProperty(n, k, d.get ? d : {
          enumerable: true,
          get: function () { return e[k]; }
        });
      }
    });
  }
  n["default"] = e;
  return Object.freeze(n);
}

!function(o){o&&(void 0===o.global&&(o.global=o),void 0===o.globalThis&&(o.globalThis=o),void 0===o.process&&(o.process={env:{NODE_ENV:"production"}}));}("undefined"!=typeof window?window:void 0);
var hs=Object.create;var pt=Object.defineProperty,gs=Object.defineProperties,ys=Object.getOwnPropertyDescriptor,vs=Object.getOwnPropertyDescriptors,bs=Object.getOwnPropertyNames,Vt=Object.getOwnPropertySymbols,Es=Object.getPrototypeOf,Pr=Object.prototype.hasOwnProperty,Pn=Object.prototype.propertyIsEnumerable;var Ln=(e,t,r)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,V=(e,t)=>{for(var r in t||(t={}))Pr.call(t,r)&&Ln(e,r,t[r]);if(Vt)for(var r of Vt(t))Pn.call(t,r)&&Ln(e,r,t[r]);return e},pe=(e,t)=>gs(e,vs(t)),n=(e,t)=>pt(e,"name",{value:t,configurable:!0});var Me=(e,t)=>{var r={};for(var o in e)Pr.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Vt)for(var o of Vt(e))t.indexOf(o)<0&&Pn.call(e,o)&&(r[o]=e[o]);return r};var xt=(e,t)=>()=>(e&&(t=e(e=0)),t);var kn=(e,t)=>{for(var r in t)pt(e,r,{get:t[r],enumerable:!0});},$n=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bs(t))!Pr.call(e,s)&&s!==r&&pt(e,s,{get:()=>t[s],enumerable:!(o=ys(t,s))||o.enumerable});return e};var ie=(e,t,r)=>(r=e!=null?hs(Es(e)):{},$n(t||!e||!e.__esModule?pt(r,"default",{value:e,enumerable:!0}):r,e)),ws=e=>$n(pt({},"__esModule",{value:!0}),e);var b=xt(()=>{});var We,gt,yt,ne,qe,ot,Un,Ge=xt(()=>{b();We=(e=>(e.MissingApiKey="MISSING_API_KEY",e.ModalNotReady="MODAL_NOT_READY",e.MalformedResponse="MALFORMED_RESPONSE",e.InvalidArgument="INVALID_ARGUMENT",e.ExtensionNotInitialized="EXTENSION_NOT_INITIALIZED",e.IncompatibleExtensions="INCOMPATIBLE_EXTENSIONS",e))(We||{}),gt=(e=>(e.SyncWeb3Method="SYNC_WEB3_METHOD",e.DuplicateIframe="DUPLICATE_IFRAME",e.ReactNativeEndpointConfiguration="REACT_NATIVE_ENDPOINT_CONFIGURATION",e.DeprecationNotice="DEPRECATION_NOTICE",e))(gt||{}),yt=(e=>(e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.MagicLinkFailedVerification=-1e4]="MagicLinkFailedVerification",e[e.MagicLinkExpired=-10001]="MagicLinkExpired",e[e.MagicLinkRateLimited=-10002]="MagicLinkRateLimited",e[e.MagicLinkInvalidRedirectURL=-10006]="MagicLinkInvalidRedirectURL",e[e.UserAlreadyLoggedIn=-10003]="UserAlreadyLoggedIn",e[e.UpdateEmailFailed=-10004]="UpdateEmailFailed",e[e.UserRequestEditEmail=-10005]="UserRequestEditEmail",e[e.InactiveRecipient=-10010]="InactiveRecipient",e[e.AccessDeniedToUser=-10011]="AccessDeniedToUser",e))(yt||{}),ne=(e=>(e.LoginWithSms="magic_auth_login_with_sms",e.LoginWithEmailOTP="magic_auth_login_with_email_otp",e.LoginWithMagicLink="magic_auth_login_with_magic_link",e.LoginWithCredential="magic_auth_login_with_credential",e.GetIdToken="magic_auth_get_id_token",e.GenerateIdToken="magic_auth_generate_id_token",e.GetMetadata="magic_auth_get_metadata",e.IsLoggedIn="magic_auth_is_logged_in",e.Logout="magic_auth_logout",e.UpdateEmail="magic_auth_update_email",e.UserSettings="magic_auth_settings",e.UserSettingsTestMode="magic_auth_settings_testing_mode",e.LoginWithSmsTestMode="magic_auth_login_with_sms_testing_mode",e.LoginWithEmailOTPTestMode="magic_auth_login_with_email_otp_testing_mode",e.LoginWithMagicLinkTestMode="magic_login_with_magic_link_testing_mode",e.LoginWithCredentialTestMode="magic_auth_login_with_credential_testing_mode",e.GetIdTokenTestMode="magic_auth_get_id_token_testing_mode",e.GenerateIdTokenTestMode="magic_auth_generate_id_token_testing_mode",e.GetMetadataTestMode="magic_auth_get_metadata_testing_mode",e.IsLoggedInTestMode="magic_auth_is_logged_in_testing_mode",e.LogoutTestMode="magic_auth_logout_testing_mode",e.UpdateEmailTestMode="magic_auth_update_email_testing_mode",e))(ne||{}),qe=(e=>(e.MAGIC_HANDLE_RESPONSE="MAGIC_HANDLE_RESPONSE",e.MAGIC_OVERLAY_READY="MAGIC_OVERLAY_READY",e.MAGIC_SHOW_OVERLAY="MAGIC_SHOW_OVERLAY",e.MAGIC_HIDE_OVERLAY="MAGIC_HIDE_OVERLAY",e.MAGIC_HANDLE_EVENT="MAGIC_HANDLE_EVENT",e))(qe||{}),ot=(e=>(e.MAGIC_HANDLE_REQUEST="MAGIC_HANDLE_REQUEST",e))(ot||{}),Un=(e=>(e.Harmony="HARMONY",e))(Un||{});});function Ds(e){let t={exports:{}};return e(t,t.exports),t.exports}function wa(e){return String.fromCharCode(parseInt(e.slice(1),16))}function Ca(e){return `%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`}function Ia(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,wa))}function _a(e){return decodeURIComponent(Array.from(atob(e),Ca).join(""))}function ro(e){return Ia(JSON.stringify(e))}function Aa(e){return JSON.parse(_a(e))}function Ot(e){return typeof e>"u"}function Sa(e){return e===null}function no(e){return Sa(e)||Ot(e)}function Ra(e){return no(e)?!1:!Ot(e.jsonrpc)&&!Ot(e.id)&&(!Ot(e.result)||!Ot(e.error))}function Na(e){return no(e)?!1:typeof e=="number"&&Object.values(yt).includes(e)}function $r(e){if(!e)return !0;for(let t in e)if(Object.hasOwnProperty.call(e,t))return !1;return !0}function oo(e,t){return Object.assign(he,t),e}function Ta(){return new He(We.MissingApiKey,"Please provide an API key that you acquired from the Magic developer dashboard.")}function io(){return new He(We.ModalNotReady,"Modal is not ready.")}function Ma(){return new He(We.MalformedResponse,"Response from the Magic iframe is malformed.")}function Oa(e){return new He(We.ExtensionNotInitialized,`Extensions must be initialized with a Magic SDK instance before \`Extension.${e}\` can be accessed. Do not invoke \`Extension.${e}\` inside an extension constructor.`)}function La(e){let t=`Some extensions are incompatible with \`${he.sdkName}@${he.version}\`:`;return e.filter(r=>typeof r.compat<"u"&&r.compat!==null).forEach(r=>{let o=r.compat[he.sdkName];typeof o=="string"?t+=`
  - Extension \`${r.name}\` supports version(s) \`${o}\``:o||(t+=`
  - Extension \`${r.name}\` does not support ${he.platform} environments.`);}),new He(We.IncompatibleExtensions,t)}function Pa(e){let t=n(r=>{let o=r+1,s=o%10,a=o%100;return s===1&&a!==11?`${o}st`:s===2&&a!==12?`${o}nd`:s===3&&a!==13?`${o}rd`:`${o}th`},"e");return new He(We.InvalidArgument,`Invalid ${t(e.argument)} argument given to \`${e.procedure}\`.
  Expected: \`${e.expected}\`
  Received: \`${e.received}\``)}function so(){return new jt(gt.DuplicateIframe,"Duplicate iframes found.")}function ka(){return new jt(gt.SyncWeb3Method,"Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.")}function $a(){return new jt(gt.ReactNativeEndpointConfiguration,`CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \`endpoint\` parameter SHOULD NOT be provided. The Magic \`<iframe>\` is automatically wrapped by a WebView pointed at \`${he.defaultEndpoint}\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`)}function*Da(){let e=0;for(;;)e<Number.MAX_SAFE_INTEGER?yield ++e:e=0;}function ao(){return ja.next().value}function lo(e){return Object.defineProperty(e,uo,{value:!0,enumerable:!1}),e}function Ua(e){return !!e[uo]}function or(e){var t,r,o;return Ua(e)||(e.jsonrpc=(t=e.jsonrpc)!=null?t:"2.0",e.id=ao(),e.method=(r=e.method)!=null?r:"noop",e.params=(o=e.params)!=null?o:[],lo(e)),e}function Re(e,t=[]){return lo({params:t,method:e,jsonrpc:"2.0",id:ao()})}function co(){let e=new Ba;return {emitter:e,createChainingEmitterMethod:(t,r)=>(...o)=>(e[t].apply(e,o),r),createBoundEmitterMethod:t=>(...r)=>e[t].apply(e,r)}}function Fr(e){return !!e[fo]}function po(e){let t=mo(e),{createBoundEmitterMethod:r,createChainingEmitterMethod:o}=co(),s=Symbol("Promise.then"),a=Symbol("Promise.catch"),p=Symbol("Promise.finally"),h=n((m,w)=>(...L)=>{let P=w[m].apply(w,L);return g(P)},"i"),g=n(m=>Object.assign(m,{[fo]:!0,[s]:m[s]||m.then,[a]:m[a]||m.catch,[p]:m[p]||m.finally,then:h(s,m),catch:h(a,m),finally:h(p,m),on:o("on",m),once:o("once",m),addListener:o("addListener",m),off:o("off",m),removeListener:o("removeListener",m),removeAllListeners:o("removeAllListeners",m),emit:r("emit"),eventNames:r("eventNames"),listeners:r("listeners"),listenerCount:r("listenerCount")}),"c"),y=g(t.then(m=>(y.emit("done",m),y.emit("settled"),m),m=>{throw y.emit("error",m),y.emit("settled"),m}));return y}function mo(e){return new Promise((t,r)=>{let o=e(t,r);Promise.resolve(o).catch(r);})}function Xe(e){return (...t)=>Ke(this,null,function*(){return er||(er=yield he.configureStorage()),yield er.ready(),er[e](...t)})}function Va(){let e=window.crypto.getRandomValues(new Uint8Array(16));e[6]=e[6]&15|64,e[8]=e[8]&191|128;let t="";return t+=e[0].toString(16),t+=e[1].toString(16),t+=e[2].toString(16),t+=e[3].toString(16),t+="-",t+=e[4].toString(16),t+=e[5].toString(16),t+="-",t+=e[6].toString(16),t+=e[7].toString(16),t+="-",t+=e[8].toString(16),t+=e[9].toString(16),t+="-",t+=e[10].toString(16),t+=e[11].toString(16),t+=e[12].toString(16),t+=e[13].toString(16),t+=e[14].toString(16),t+=e[15].toString(16),t}function Qa(){Dr(sr),Dr(Br);}function Ja(){return Ke(this,null,function*(){let e=yield Za();if(!e){console.info("unable to create public key or webcrypto is unsupported");return}let{subtle:t}=window.crypto,r=yield Pt(Br);if(!r||!t){console.info("unable to find private key or webcrypto unsupported");return}let o={iat:Math.floor(new Date().getTime()/1e3),jti:Va()},s={typ:"dpop+jwt",alg:"ES256",jwk:e},a={protected:Qn(JSON.stringify(s)),claims:Qn(JSON.stringify(o))},p=ru(`${a.protected}.${a.claims}`),h={name:Wr,hash:{name:"SHA-256"}},g=ou(new Uint8Array(yield t.sign(h,r,p)));return `${a.protected}.${a.claims}.${g}`})}function Za(){return Ke(this,null,function*(){if(!tu()){console.info("webcrypto is not supported");return}return (yield Pt(sr))||(yield eu()),Pt(sr)})}function eu(){return Ke(this,null,function*(){let e=null,{subtle:t}=window.crypto,r=yield t.generateKey(Xa,!0,["sign"]),o=yield t.exportKey("jwk",r.privateKey);e=yield t.exportKey("jwk",r.publicKey);let s=yield t.importKey("jwk",o,Ya,!1,["sign"]);yield ir(Br,s),yield ir(sr,e);})}function tu(){let e=typeof window<"u"&&!!window.crypto,t=e&&!!window.crypto.subtle;return e&&t}function Qn(e){return yo(nu(e))}function ru(e){return new TextEncoder().encode(e)}function yo(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+/g,"")}function nu(e){return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(t,r)=>String.fromCharCode(parseInt(r,16)))}function ou(e){let t="";return e.forEach(r=>{t+=String.fromCharCode(r);}),yo(t)}function kt(e,t){return t?new URL(e,t):new URL(e)}function au(e){let t=Object.getPrototypeOf(e),r=[t];for(;t!==Ut.prototype;)t=Object.getPrototypeOf(t),r.push(t);return r}function Zn(e){return e.compat&&e.compat[he.sdkName]!=null?typeof e.compat[he.sdkName]=="string"?ga(Ea(he.version),e.compat[he.sdkName]):!!e.compat[he.sdkName]:!0}function lu(e){var t;let r=(t=e==null?void 0:e.extensions)!=null?t:[],o={},s=[];if(Array.isArray(r)?r.forEach(a=>{Zn(a)?(a.init(this),(a.name||a.name!==it.Anonymous)&&(this[a.name]=a),a instanceof it.Internal&&($r(a.config)||(o[a.name]=a.config))):s.push(a);}):Object.keys(r).forEach(a=>{if(Zn(r[a])){r[a].init(this);let p=r[a];this[a]=p,p instanceof it.Internal&&($r(p.config)||(o[r[a].name]=p.config));}else s.push(r[a]);}),s.length)throw La(s);return o}function cu(e,t){return t&&Array.isArray(e)?e.find(r=>r.id===t):e}function du(e,t){var r;let o=(r=t.data.response)==null?void 0:r.id,s=cu(e,o);if(o&&s){let a=new Ur(s).applyResult(t.data.response.result).applyError(t.data.response.error);return {id:o,response:a}}return {}}function fu(e,t){return Ke(this,null,function*(){let r=yield Pt("rt"),o;if(he.platform==="web")try{o=yield Ja();}catch(s){console.error("webcrypto error",s);}return o?r?{msgType:e,payload:t,jwt:o,rt:r}:{msgType:e,payload:t,jwt:o}:{msgType:e,payload:t}})}function pu(e){return Ke(this,null,function*(){!e.data.rt||(yield ir("rt",e.data.rt));})}var Cs,$t,Is,_s,As,Ss,Fn,Rs,eo,Ns,Bn,xs,Ts,Ms,Os,Ls,Ps,ks,Ke,$s,js,jr,Us,ee,Dt,Wn,to,Fs,Bs,qn,Qt,Gn,Kn,Tt,ye,Ws,wt,qs,Gs,Ks,Hs,zs,Vs,Xs,Ys,Qs,Js,Zs,ea,ta,kr,Mt,Lt,Hn,zn,bt,Ee,ve,ra,na,oa,Vn,ia,_e,sa,aa,ua,la,ca,da,fa,pa,ma,ha,ga,ya,Xn,Yn,va,ba,Jt,Zt,Ea,he,xa,He,Et,jt,ar,nr,ja,uo,Ur,Fa,Ba,fo,Ut,Wa,ho,er,Pt,ir,Dr,qa,Ga,Ka,Ha,za,Br,sr,Wr,go,Xa,Ya,iu,tr,vt,su,Jn,vo,uu,it,rr,qr,bo,ur=xt(()=>{b();Ge();Ge();Ge();Ge();Ge();Ge();Ge();Cs=Object.create,$t=Object.defineProperty,Is=Object.defineProperties,_s=Object.getOwnPropertyDescriptor,As=Object.getOwnPropertyDescriptors,Ss=Object.getOwnPropertyNames,Fn=Object.getOwnPropertySymbols,Rs=Object.getPrototypeOf,eo=Object.prototype.hasOwnProperty,Ns=Object.prototype.propertyIsEnumerable,Bn=n((e,t,r)=>t in e?$t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,"Me"),xs=n((e,t)=>{for(var r in t||(t={}))eo.call(t,r)&&Bn(e,r,t[r]);if(Fn)for(var r of Fn(t))Ns.call(t,r)&&Bn(e,r,t[r]);return e},"Ne"),Ts=n((e,t)=>Is(e,As(t)),"we"),Ms=n(e=>$t(e,"__esModule",{value:!0}),"$t"),Os=n((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"bt"),Ls=n((e,t)=>{for(var r in t)$t(e,r,{get:t[r],enumerable:!0});},"Mt"),Ps=n((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ss(t))!eo.call(e,s)&&(r||s!=="default")&&$t(e,s,{get:()=>t[s],enumerable:!(o=_s(t,s))||o.enumerable});return e},"Nt"),ks=n((e,t)=>Ps(Ms($t(e!=null?Cs(Rs(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),"wt"),Ke=n((e,t,r)=>new Promise((o,s)=>{var a=n(g=>{try{h(r.next(g));}catch(y){s(y);}},"o"),p=n(g=>{try{h(r.throw(g));}catch(y){s(y);}},"a"),h=n(g=>g.done?o(g.value):Promise.resolve(g.value).then(a,p),"i");h((r=r.apply(e,t)).next());}),"I"),$s=Os((e,t)=>{var r=Object.prototype.hasOwnProperty,o="~";function s(){}n(s,"B"),Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(y,m,w){this.fn=y,this.context=m,this.once=w||!1;}n(a,"bn");function p(y,m,w,L,P){if(typeof w!="function")throw new TypeError("The listener must be a function");var C=new a(w,L||y,P),M=o?o+m:m;return y._events[M]?y._events[M].fn?y._events[M]=[y._events[M],C]:y._events[M].push(C):(y._events[M]=C,y._eventsCount++),y}n(p,"tt");function h(y,m){--y._eventsCount===0?y._events=new s:delete y._events[m];}n(h,"se");function g(){this._events=new s,this._eventsCount=0;}n(g,"g"),g.prototype.eventNames=function(){var y=[],m,w;if(this._eventsCount===0)return y;for(w in m=this._events)r.call(m,w)&&y.push(o?w.slice(1):w);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(m)):y},g.prototype.listeners=function(y){var m=o?o+y:y,w=this._events[m];if(!w)return [];if(w.fn)return [w.fn];for(var L=0,P=w.length,C=new Array(P);L<P;L++)C[L]=w[L].fn;return C},g.prototype.listenerCount=function(y){var m=o?o+y:y,w=this._events[m];return w?w.fn?1:w.length:0},g.prototype.emit=function(y,m,w,L,P,C){var M=o?o+y:y;if(!this._events[M])return !1;var S=this._events[M],j=arguments.length,H,T;if(S.fn){switch(S.once&&this.removeListener(y,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,w),!0;case 4:return S.fn.call(S.context,m,w,L),!0;case 5:return S.fn.call(S.context,m,w,L,P),!0;case 6:return S.fn.call(S.context,m,w,L,P,C),!0}for(T=1,H=new Array(j-1);T<j;T++)H[T-1]=arguments[T];S.fn.apply(S.context,H);}else {var me=S.length,Q;for(T=0;T<me;T++)switch(S[T].once&&this.removeListener(y,S[T].fn,void 0,!0),j){case 1:S[T].fn.call(S[T].context);break;case 2:S[T].fn.call(S[T].context,m);break;case 3:S[T].fn.call(S[T].context,m,w);break;case 4:S[T].fn.call(S[T].context,m,w,L);break;default:if(!H)for(Q=1,H=new Array(j-1);Q<j;Q++)H[Q-1]=arguments[Q];S[T].fn.apply(S[T].context,H);}}return !0},g.prototype.on=function(y,m,w){return p(this,y,m,w,!1)},g.prototype.once=function(y,m,w){return p(this,y,m,w,!0)},g.prototype.removeListener=function(y,m,w,L){var P=o?o+y:y;if(!this._events[P])return this;if(!m)return h(this,P),this;var C=this._events[P];if(C.fn)C.fn===m&&(!L||C.once)&&(!w||C.context===w)&&h(this,P);else {for(var M=0,S=[],j=C.length;M<j;M++)(C[M].fn!==m||L&&!C[M].once||w&&C[M].context!==w)&&S.push(C[M]);S.length?this._events[P]=S.length===1?S[0]:S:h(this,P);}return this},g.prototype.removeAllListeners=function(y){var m;return y?(m=o?o+y:y,this._events[m]&&h(this,m)):(this._events=new s,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=o,g.EventEmitter=g,typeof t<"u"&&(t.exports=g);});n(Ds,"At");js=Number.MAX_SAFE_INTEGER||9007199254740991,jr={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:js,MAX_SAFE_COMPONENT_LENGTH:16},Us=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},ee=Us,Dt=Ds(function(e,t){let{MAX_SAFE_COMPONENT_LENGTH:r}=jr,o=(t=e.exports={}).re=[],s=t.src=[],a=t.t={},p=0,h=n((g,y,m)=>{let w=p++;ee(w,y),a[g]=w,s[w]=y,o[w]=new RegExp(y,m?"g":void 0);},"i");h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","[0-9]+"),h("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),h("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER","[0-9A-Za-z-]+"),h("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),h("FULL",`^${s[a.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),h("LOOSE",`^${s[a.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),h("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),h("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),h("COERCERTL",s[a.COERCE],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",h("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",h("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0.0.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$");}),Wn=/^[0-9]+$/,to=n((e,t)=>{let r=Wn.test(e),o=Wn.test(t);return r&&o&&(e=+e,t=+t),e===t?0:r&&!o?-1:o&&!r?1:e<t?-1:1},"Le"),Fs=n((e,t)=>to(t,e),"Ot"),Bs={compareIdentifiers:to,rcompareIdentifiers:Fs},{MAX_LENGTH:qn,MAX_SAFE_INTEGER:Qt}=jr,{re:Gn,t:Kn}=Dt,{compareIdentifiers:Tt}=Bs,ye=n(class{constructor(e,t){if(t&&typeof t=="object"||(t={loose:!!t,includePrerelease:!1}),e instanceof ye){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version;}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>qn)throw new TypeError(`version is longer than ${qn} characters`);ee("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?Gn[Kn.LOOSE]:Gn[Kn.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Qt||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Qt||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Qt||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let s=+o;if(s>=0&&s<Qt)return s}return o}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format();}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ee("SemVer.compare",this.version,this.options,e),!(e instanceof ye)){if(typeof e=="string"&&e===this.version)return 0;e=new ye(e,this.options);}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ye||(e=new ye(e,this.options)),Tt(this.major,e.major)||Tt(this.minor,e.minor)||Tt(this.patch,e.patch)}comparePre(e){if(e instanceof ye||(e=new ye(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],o=e.prerelease[t];if(ee("prerelease compare",t,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return -1;if(r!==o)return Tt(r,o)}while(++t)}compareBuild(e){e instanceof ye||(e=new ye(e,this.options));let t=0;do{let r=this.build[t],o=e.build[t];if(ee("prerelease compare",t,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return -1;if(r!==o)return Tt(r,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else {let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0);}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}},"E"),Ws=n((e,t,r)=>new ye(e,r).compare(new ye(t,r)),"_t"),wt=Ws,qs=n((e,t,r)=>wt(e,t,r)===0,"Dt"),Gs=qs,Ks=n((e,t,r)=>wt(e,t,r)!==0,"Jt"),Hs=Ks,zs=n((e,t,r)=>wt(e,t,r)>0,"Gt"),Vs=zs,Xs=n((e,t,r)=>wt(e,t,r)>=0,"Kt"),Ys=Xs,Qs=n((e,t,r)=>wt(e,t,r)<0,"Ft"),Js=Qs,Zs=n((e,t,r)=>wt(e,t,r)<=0,"Xt"),ea=Zs,ta=n((e,t,r,o)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Gs(e,r,o);case"!=":return Hs(e,r,o);case">":return Vs(e,r,o);case">=":return Ys(e,r,o);case"<":return Js(e,r,o);case"<=":return ea(e,r,o);default:throw new TypeError(`Invalid operator: ${t}`)}},"Ht"),kr=ta,Mt=Symbol("SemVer ANY"),Lt=n(class{static get ANY(){return Mt}constructor(e,t){if(t&&typeof t=="object"||(t={loose:!!t,includePrerelease:!1}),e instanceof Lt){if(e.loose===!!t.loose)return e;e=e.value;}ee("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Mt?this.value="":this.value=this.operator+this.semver.version,ee("comp",this);}parse(e){let t=this.options.loose?Hn[zn.COMPARATORLOOSE]:Hn[zn.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new ye(r[2],this.options.loose):this.semver=Mt;}toString(){return this.value}test(e){if(ee("Comparator.test",e,this.options.loose),this.semver===Mt||e===Mt)return !0;if(typeof e=="string")try{e=new ye(e,this.options);}catch{return !1}return kr(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Lt))throw new TypeError("a Comparator is required");if(t&&typeof t=="object"||(t={loose:!!t,includePrerelease:!1}),this.operator==="")return this.value===""||new bt(e.value,t).test(this.value);if(e.operator==="")return e.value===""||new bt(this.value,t).test(e.semver);let r=!(this.operator!==">="&&this.operator!==">"||e.operator!==">="&&e.operator!==">"),o=!(this.operator!=="<="&&this.operator!=="<"||e.operator!=="<="&&e.operator!=="<"),s=this.semver.version===e.semver.version,a=!(this.operator!==">="&&this.operator!=="<="||e.operator!==">="&&e.operator!=="<="),p=kr(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),h=kr(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||o||s&&a||p||h}},"O"),{re:Hn,t:zn}=Dt,bt=n(class{constructor(e,t){if(t&&typeof t=="object"||(t={loose:!!t,includePrerelease:!1}),e instanceof bt)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new bt(e.raw,t);if(e instanceof Lt)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);this.format();}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let{loose:t}=this.options;e=e.trim();let r=t?Ee[ve.HYPHENRANGELOOSE]:Ee[ve.HYPHENRANGE];e=e.replace(r,ma(this.options.includePrerelease)),ee("hyphen replace",e),e=e.replace(Ee[ve.COMPARATORTRIM],ra),ee("comparator trim",e,Ee[ve.COMPARATORTRIM]),e=(e=(e=e.replace(Ee[ve.TILDETRIM],na)).replace(Ee[ve.CARETTRIM],oa)).split(/\s+/).join(" ");let o=t?Ee[ve.COMPARATORLOOSE]:Ee[ve.COMPARATOR];return e.split(" ").map(s=>ia(s,this.options)).join(" ").split(/\s+/).map(s=>pa(s,this.options)).filter(this.options.loose?s=>!!s.match(o):()=>!0).map(s=>new Lt(s,this.options))}intersects(e,t){if(!(e instanceof bt))throw new TypeError("a Range is required");return this.set.some(r=>Vn(r,t)&&e.set.some(o=>Vn(o,t)&&r.every(s=>o.every(a=>s.intersects(a,t)))))}test(e){if(!e)return !1;if(typeof e=="string")try{e=new ye(e,this.options);}catch{return !1}for(let t=0;t<this.set.length;t++)if(ha(this.set[t],e,this.options))return !0;return !1}},"N"),{re:Ee,t:ve,comparatorTrimReplace:ra,tildeTrimReplace:na,caretTrimReplace:oa}=Dt,Vn=n((e,t)=>{let r=!0,o=e.slice(),s=o.pop();for(;r&&o.length;)r=o.every(a=>s.intersects(a,t)),s=o.pop();return r},"ke"),ia=n((e,t)=>(ee("comp",e,t),e=ua(e,t),ee("caret",e),e=sa(e,t),ee("tildes",e),e=ca(e,t),ee("xrange",e),e=fa(e,t),ee("stars",e),e),"Zt"),_e=n(e=>!e||e.toLowerCase()==="x"||e==="*","R"),sa=n((e,t)=>e.trim().split(/\s+/).map(r=>aa(r,t)).join(" "),"Qt"),aa=n((e,t)=>{let r=t.loose?Ee[ve.TILDELOOSE]:Ee[ve.TILDE];return e.replace(r,(o,s,a,p,h)=>{let g;return ee("tilde",e,o,s,a,p,h),_e(s)?g="":_e(a)?g=`>=${s}.0.0 <${+s+1}.0.0-0`:_e(p)?g=`>=${s}.${a}.0 <${s}.${+a+1}.0-0`:h?(ee("replaceTilde pr",h),g=`>=${s}.${a}.${p}-${h} <${s}.${+a+1}.0-0`):g=`>=${s}.${a}.${p} <${s}.${+a+1}.0-0`,ee("tilde return",g),g})},"en"),ua=n((e,t)=>e.trim().split(/\s+/).map(r=>la(r,t)).join(" "),"tn"),la=n((e,t)=>{ee("caret",e,t);let r=t.loose?Ee[ve.CARETLOOSE]:Ee[ve.CARET],o=t.includePrerelease?"-0":"";return e.replace(r,(s,a,p,h,g)=>{let y;return ee("caret",e,s,a,p,h,g),_e(a)?y="":_e(p)?y=`>=${a}.0.0${o} <${+a+1}.0.0-0`:_e(h)?y=a==="0"?`>=${a}.${p}.0${o} <${a}.${+p+1}.0-0`:`>=${a}.${p}.0${o} <${+a+1}.0.0-0`:g?(ee("replaceCaret pr",g),y=a==="0"?p==="0"?`>=${a}.${p}.${h}-${g} <${a}.${p}.${+h+1}-0`:`>=${a}.${p}.${h}-${g} <${a}.${+p+1}.0-0`:`>=${a}.${p}.${h}-${g} <${+a+1}.0.0-0`):(ee("no pr"),y=a==="0"?p==="0"?`>=${a}.${p}.${h}${o} <${a}.${p}.${+h+1}-0`:`>=${a}.${p}.${h}${o} <${a}.${+p+1}.0-0`:`>=${a}.${p}.${h} <${+a+1}.0.0-0`),ee("caret return",y),y})},"nn"),ca=n((e,t)=>(ee("replaceXRanges",e,t),e.split(/\s+/).map(r=>da(r,t)).join(" ")),"rn"),da=n((e,t)=>{e=e.trim();let r=t.loose?Ee[ve.XRANGELOOSE]:Ee[ve.XRANGE];return e.replace(r,(o,s,a,p,h,g)=>{ee("xRange",e,o,s,a,p,h,g);let y=_e(a),m=y||_e(p),w=m||_e(h),L=w;return s==="="&&L&&(s=""),g=t.includePrerelease?"-0":"",y?o=s===">"||s==="<"?"<0.0.0-0":"*":s&&L?(m&&(p=0),h=0,s===">"?(s=">=",m?(a=+a+1,p=0,h=0):(p=+p+1,h=0)):s==="<="&&(s="<",m?a=+a+1:p=+p+1),s==="<"&&(g="-0"),o=`${s+a}.${p}.${h}${g}`):m?o=`>=${a}.0.0${g} <${+a+1}.0.0-0`:w&&(o=`>=${a}.${p}.0${g} <${a}.${+p+1}.0-0`),ee("xRange return",o),o})},"sn"),fa=n((e,t)=>(ee("replaceStars",e,t),e.trim().replace(Ee[ve.STAR],"")),"on"),pa=n((e,t)=>(ee("replaceGTE0",e,t),e.trim().replace(Ee[t.includePrerelease?ve.GTE0PRE:ve.GTE0],"")),"an"),ma=n(e=>(t,r,o,s,a,p,h,g,y,m,w,L,P)=>`${r=_e(o)?"":_e(s)?`>=${o}.0.0${e?"-0":""}`:_e(a)?`>=${o}.${s}.0${e?"-0":""}`:p?`>=${r}`:`>=${r}${e?"-0":""}`} ${g=_e(y)?"":_e(m)?`<${+y+1}.0.0-0`:_e(w)?`<${y}.${+m+1}.0-0`:L?`<=${y}.${m}.${w}-${L}`:e?`<${y}.${m}.${+w+1}-0`:`<=${g}`}`.trim(),"cn"),ha=n((e,t,r)=>{for(let o=0;o<e.length;o++)if(!e[o].test(t))return !1;if(t.prerelease.length&&!r.includePrerelease){for(let o=0;o<e.length;o++)if(ee(e[o].semver),e[o].semver!==Lt.ANY&&e[o].semver.prerelease.length>0){let s=e[o].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return !0}return !1}return !0},"ln"),ga=n((e,t,r)=>{try{t=new bt(t,r);}catch{return !1}return t.test(e)},"Je"),{MAX_LENGTH:ya}=jr,{re:Xn,t:Yn}=Dt,va=n((e,t)=>{if(t&&typeof t=="object"||(t={loose:!!t,includePrerelease:!1}),e instanceof ye)return e;if(typeof e!="string"||e.length>ya||!(t.loose?Xn[Yn.LOOSE]:Xn[Yn.FULL]).test(e))return null;try{return new ye(e,t)}catch{return null}},"un"),ba=va,{re:Jt,t:Zt}=Dt,Ea=n((e,t)=>{if(e instanceof ye)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;let r=null;if((t=t||{}).rtl){let o;for(;(o=Jt[Zt.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),Jt[Zt.COERCERTL].lastIndex=o.index+o[1].length+o[2].length;Jt[Zt.COERCERTL].lastIndex=-1;}else r=e.match(Jt[Zt.COERCE]);return r===null?null:ba(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)},"Ue");n(wa,"mn");n(Ca,"En");n(Ia,"hn");n(_a,"fn");n(ro,"Q");n(Aa,"Ke");n(Ot,"$");n(Sa,"Rn");n(no,"ee");n(Ra,"je");n(Na,"Fe");n($r,"te");he={};n(oo,"Tn");xa={"magic-sdk":"magic-sdk","@magic-sdk/react-native":"magic-sdk-rn"},He=n(class extends Error{constructor(e,t){super(`Magic SDK Error: [${e}] ${t}`),this.code=e,this.rawMessage=t,this.__proto__=Error,Object.setPrototypeOf(this,He.prototype);}},"b"),Et=n(class extends Error{constructor(e){super(),this.__proto__=Error;let t=Number(e==null?void 0:e.code);this.rawMessage=(e==null?void 0:e.message)||"Internal error",this.code=Na(t)?t:yt.InternalError,this.message=`Magic RPC Error: [${this.code}] ${this.rawMessage}`,Object.setPrototypeOf(this,Et.prototype);}},"w"),jt=n(class{constructor(e,t){this.code=e,this.rawMessage=t,this.message=`Magic SDK Warning: [${e}] ${t}`;}log(){console.warn(this.message);}},"W"),ar=n(class extends Error{constructor(e,t,r,o){super(`Magic Extension Error (${e.name}): [${t}] ${r}`),this.code=t,this.rawMessage=r,this.data=o,this.__proto__=Error,Object.setPrototypeOf(this,ar.prototype);}},"X"),nr=n(class{constructor(e,t,r){this.code=t,this.rawMessage=r,this.message=`Magic Extension Warning (${e.name}): [${t}] ${r}`;}log(){console.warn(this.message);}},"re");n(Ta,"Xe");n(io,"cr");n(Ma,"Be");n(Oa,"He");n(La,"Ve");n(Pa,"ze");n(so,"lr");n(ka,"Ye");n($a,"Ze");n(Da,"xn");ja=Da();n(ao,"Ee");uo=Symbol("Payload pre-processed by Magic SDK");n(lo,"et");n(Ua,"Pn");n(or,"C");n(Re,"h");Ur=n(class{constructor(e){e instanceof Ur?(this._jsonrpc=e.payload.jsonrpc,this._id=e.payload.id,this._result=e.payload.result,this._error=e.payload.error):Ra(e)?(this._jsonrpc=e.jsonrpc,this._id=e.id,this._result=e.result,this._error=e.error):(this._jsonrpc=e.jsonrpc,this._id=e.id,this._result=void 0,this._error=void 0);}applyError(e){return this._error=e,this}applyResult(e){return this._result=e,this}get hasError(){return typeof this._error<"u"&&this._error!==null}get hasResult(){return typeof this._result<"u"}get payload(){return {jsonrpc:this._jsonrpc,id:this._id,result:this._result,error:this._error}}},"_"),Fa=ks($s()),Ba=n(class extends Fa.default{},"st");n(co,"oe");fo=Symbol("isPromiEvent");n(Fr,"it");n(po,"ie");n(mo,"fe");Ut=n(class{constructor(e){this.sdk=e;}get overlay(){return this.sdk.overlay}request(e){let t=this.overlay.post(ot.MAGIC_HANDLE_REQUEST,or(e)),r=po((s,a)=>{t.then(p=>{if(o(),p.hasError)a(new Et(p.payload.error));else if(p.hasResult)s(p.payload.result);else throw Ma()}).catch(p=>{o(),a(p);});}),o=this.overlay.on(qe.MAGIC_HANDLE_EVENT,s=>{var a;let{response:p}=s.data;if(p.id===e.id&&((a=p.result)==null?void 0:a.event)){let{event:h,params:g=[]}=p.result;r.emit(h,...g);}});return r}},"P"),Wa=n(class extends Ut{loginWithMagicLink(e){let{email:t,showUI:r=!0,redirectURI:o}=e,s=Re(this.sdk.testMode?ne.LoginWithMagicLinkTestMode:ne.LoginWithMagicLink,[{email:t,showUI:r,redirectURI:o}]);return this.request(s)}loginWithSMS(e){let{phoneNumber:t}=e,r=Re(this.sdk.testMode?ne.LoginWithSmsTestMode:ne.LoginWithSms,[{phoneNumber:t,showUI:!0}]);return this.request(r)}loginWithEmailOTP(e){let{email:t}=e,r=Re(this.sdk.testMode?ne.LoginWithEmailOTPTestMode:ne.LoginWithEmailOTP,[{email:t,showUI:!0}]);return this.request(r)}loginWithCredential(e){let t=e??"";if(!e&&he.platform==="web"){t=window.location.search;let o=window.location.origin+window.location.pathname;window.history.replaceState(null,"",o);}let r=Re(this.sdk.testMode?ne.LoginWithCredentialTestMode:ne.LoginWithCredential,[t]);return this.request(r)}},"ye"),ho={};Ls(ho,{clear:()=>qa,getItem:()=>Pt,iterate:()=>za,key:()=>Ka,keys:()=>Ha,length:()=>Ga,removeItem:()=>Dr,setItem:()=>ir});n(Xe,"L");Pt=Xe("getItem"),ir=Xe("setItem"),Dr=Xe("removeItem"),qa=Xe("clear"),Ga=Xe("length"),Ka=Xe("key"),Ha=Xe("keys"),za=Xe("iterate");n(Va,"at");Br="STORE_KEY_PRIVATE_KEY",sr="STORE_KEY_PUBLIC_JWK",Wr="ECDSA",go="P-256",Xa={name:Wr,namedCurve:go},Ya={name:Wr,namedCurve:go};n(Qa,"lt");n(Ja,"pt");n(Za,"Dn");n(eu,"kn");n(tu,"Jn");n(Qn,"ut");n(ru,"qn");n(yo,"dt");n(nu,"Gn");n(ou,"Un");iu=n(class extends Ut{getIdToken(e){let t=Re(this.sdk.testMode?ne.GetIdTokenTestMode:ne.GetIdToken,[e]);return this.request(t)}generateIdToken(e){let t=Re(this.sdk.testMode?ne.GenerateIdTokenTestMode:ne.GenerateIdToken,[e]);return this.request(t)}getMetadata(){let e=Re(this.sdk.testMode?ne.GetMetadataTestMode:ne.GetMetadata);return this.request(e)}updateEmail(e){let{email:t,showUI:r=!0}=e,o=Re(this.sdk.testMode?ne.UpdateEmailTestMode:ne.UpdateEmail,[{email:t,showUI:r}]);return this.request(o)}isLoggedIn(){let e=Re(this.sdk.testMode?ne.IsLoggedInTestMode:ne.IsLoggedIn);return this.request(e)}logout(){Qa();let e=Re(this.sdk.testMode?ne.LogoutTestMode:ne.Logout);return this.request(e)}showSettings(){let e=Re(this.sdk.testMode?ne.UserSettingsTestMode:ne.UserSettings);return this.request(e)}},"Te"),{createBoundEmitterMethod:tr,createChainingEmitterMethod:vt}=co(),su=n(class extends Ut{constructor(){super(...arguments),this.isMagic=!0,this.on=vt("on",this),this.once=vt("once",this),this.addListener=vt("addListener",this),this.off=vt("off",this),this.removeListener=vt("removeListener",this),this.removeAllListeners=vt("removeAllListeners",this),this.emit=tr("emit"),this.eventNames=tr("eventNames"),this.listeners=tr("listeners"),this.listenerCount=tr("listenerCount");}sendAsync(e,t){if(!t)throw Pa({procedure:"Magic.rpcProvider.sendAsync",argument:1,expected:"function",received:t===null?"null":typeof t});if(Array.isArray(e))this.overlay.post(ot.MAGIC_HANDLE_REQUEST,e.map(r=>{let o=or(r);return this.prefixPayloadMethodForTestMode(o),o})).then(r=>{t(null,r.map(o=>Ts(xs({},o.payload),{error:o.hasError?new Et(o.payload.error):null})));});else {let r=or(e);this.prefixPayloadMethodForTestMode(r),this.overlay.post(ot.MAGIC_HANDLE_REQUEST,r).then(o=>{t(o.hasError?new Et(o.payload.error):null,o.payload);});}}send(e,t){if(typeof e=="string"){let o=Re(e,Array.isArray(t)?t:[]);return this.request(o)}if(Array.isArray(e)||!!t){this.sendAsync(e,t);return}let r=ka();return r.log(),new Ur(e).applyError({code:-32603,message:r.rawMessage}).payload}enable(){let e=Re("eth_accounts");return this.request(e)}request(e){return this.prefixPayloadMethodForTestMode(e),super.request(e)}prefixPayloadMethodForTestMode(e){let t="testMode/eth/";this.sdk.testMode&&(e.method=`${t}${e.method}`);}},"ve");n(kt,"xe");Jn=["request","overlay","sdk"];n(au,"Kn");vo=n(class extends Ut{constructor(){super(void 0),this.__sdk_access_field_descriptors__=new Map,this.__is_initialized__=!1,this.utils={createPromiEvent:po,isPromiEvent:Fr,encodeJSON:ro,decodeJSON:Aa,createJsonRpcRequestPayload:Re,standardizeJsonRpcRequestPayload:or,storage:ho};let e=[this,...au(this)];Jn.forEach(t=>{let r=e.map(p=>Object.getOwnPropertyDescriptor(p,t)),o=r.findIndex(p=>!!p),s=o>0,a=r[o];a&&(this.__sdk_access_field_descriptors__.set(t,{descriptor:a,isPrototypeField:s}),Object.defineProperty(this,t,{configurable:!0,get:()=>{throw Oa(t)}}));});}init(e){this.__is_initialized__||(Jn.forEach(t=>{if(this.__sdk_access_field_descriptors__.has(t)){let{descriptor:r,isPrototypeField:o}=this.__sdk_access_field_descriptors__.get(t);o?delete this[t]:Object.defineProperty(this,t,r);}}),this.sdk=e,this.__is_initialized__=!0);}createDeprecationWarning(e){let{method:t,removalVersion:r,useInstead:o}=e,s=o?` Use \`${o}\` instead.`:"",a=`\`${t}\` will be removed from this Extension in version \`${r}\`.${s}`;return new nr(this,"DEPRECATION_NOTICE",a)}createWarning(e,t){return new nr(this,e,t)}createError(e,t,r){return new ar(this,e,t,r)}},"Ie"),uu=n(class extends vo{},"ht"),it=n(class extends vo{},"S");it.Internal=uu,it.Anonymous="anonymous extension";n(Zn,"ft");n(lu,"jn");rr=n(class{constructor(e,t){this.apiKey=e;var r;if(!e)throw Ta();he.platform==="react-native"&&(t==null?void 0:t.endpoint)&&$a().log();let{defaultEndpoint:o,version:s}=he;this.testMode=!!(t!=null&&t.testMode),this.endpoint=kt((r=t==null?void 0:t.endpoint)!=null?r:o).origin,this.auth=new Wa(this),this.user=new iu(this),this.rpcProvider=new su(this);let a=lu.call(this,t);this.parameters=ro({API_KEY:this.apiKey,DOMAIN_ORIGIN:window.location?window.location.origin:"",ETH_NETWORK:t==null?void 0:t.network,host:kt(this.endpoint).host,sdk:xa[he.sdkName],version:s,ext:$r(a)?void 0:a,locale:(t==null?void 0:t.locale)||"en_US"});}get overlay(){if(!rr.__overlays__.has(this.parameters)){let e=new he.ViewController(this.endpoint,this.parameters);e.init(),rr.__overlays__.set(this.parameters,e);}return rr.__overlays__.get(this.parameters)}preload(){return Ke(this,null,function*(){yield this.overlay.ready;})}},"V"),qr=rr;qr.__overlays__=new Map;n(cu,"Fn");n(du,"Wn");n(fu,"Xn");n(pu,"Bn");bo=n(class{constructor(e,t){this.endpoint=e,this.parameters=t,this.messageHandlers=new Set,this.ready=this.waitForReady(),this.listen();}post(e,t){return Ke(this,null,function*(){return mo(r=>Ke(this,null,function*(){yield this.ready;let o=[],s=Array.isArray(t)?t.map(g=>g.id):[],a=yield fu(`${e}-${this.parameters}`,t);yield this._post(a);let p=n(g=>y=>{let{id:m,response:w}=du(t,y);pu(y),m&&w&&Array.isArray(t)&&s.includes(m)?(o.push(w),o.length===t.length&&(g(),r(o))):m&&w&&!Array.isArray(t)&&m===t.id&&(g(),r(w));},"i"),h=this.on(qe.MAGIC_HANDLE_RESPONSE,p(()=>h()));}))})}on(e,t){let r=t.bind(window),o=n(s=>{s.data.msgType===`${e}-${this.parameters}`&&r(s);},"s");return this.messageHandlers.add(o),()=>this.messageHandlers.delete(o)}waitForReady(){return new Promise(e=>{this.on(qe.MAGIC_OVERLAY_READY,()=>e());})}listen(){this.on(qe.MAGIC_HIDE_OVERLAY,()=>{this.hideOverlay();}),this.on(qe.MAGIC_SHOW_OVERLAY,()=>{this.showOverlay();});}},"yt");});var Eo=xt(()=>{b();ur();Ge();});var _o={};kn(_o,{EthChainType:()=>Un,Extension:()=>it,ExtensionError:()=>ar,ExtensionWarning:()=>nr,Magic:()=>Ru,MagicIncomingWindowMessage:()=>qe,MagicOutgoingWindowMessage:()=>ot,MagicPayloadMethod:()=>ne,RPCError:()=>Et,RPCErrorCode:()=>yt,SDKError:()=>He,SDKErrorCode:()=>We,SDKWarning:()=>jt,SDKWarningCode:()=>gt,isPromiEvent:()=>Fr});function _u(e){for(let[t,r]of Object.entries(Iu))e.style[t]=r;}function Au(e){let t=[].slice.call(document.querySelectorAll(".magic-iframe"));return Boolean(t.find(r=>r.src.includes(e)))}var mu,Kr,hu,gu,yu,vu,bu,lr,Co,Eu,Io,cr,wu,Cu,Gr,wo,Iu,Su,Ru,Ao=xt(()=>{b();ur();ur();Eo();mu=Object.create,Kr=Object.defineProperty,hu=Object.getOwnPropertyDescriptor,gu=Object.getOwnPropertyNames,yu=Object.getPrototypeOf,vu=Object.prototype.hasOwnProperty,bu=n(e=>Kr(e,"__esModule",{value:!0}),"tt"),lr=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),Co=n((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"$e"),Eu=n((e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of gu(t))!vu.call(e,s)&&(r||s!=="default")&&Kr(e,s,{get:()=>t[s],enumerable:!(o=hu(t,s))||o.enumerable});return e},"nt"),Io=n((e,t)=>Eu(bu(Kr(e!=null?mu(yu(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),"Ze"),cr=n((e,t,r)=>new Promise((o,s)=>{var a=n(g=>{try{h(r.next(g));}catch(y){s(y);}},"Q"),p=n(g=>{try{h(r.throw(g));}catch(y){s(y);}},"C"),h=n(g=>g.done?o(g.value):Promise.resolve(g.value).then(a,p),"Y");h((r=r.apply(e,t)).next());}),"se"),wu=Co((e,t)=>{(function(r){if(typeof e=="object"&&typeof t<"u")t.exports=r();else if(typeof define=="function"&&define.amd)define([],r);else {var o;typeof window<"u"?o=window:typeof globalThis<"u"?o=globalThis:typeof self<"u"?o=self:o=this,o.localforage=r();}})(function(){return n(function a(p,h,g){function y(L,P){if(!h[L]){if(!p[L]){var C=typeof lr=="function"&&lr;if(!P&&C)return C(L,!0);if(m)return m(L,!0);var M=new Error("Cannot find module '"+L+"'");throw M.code="MODULE_NOT_FOUND",M}var S=h[L]={exports:{}};p[L][0].call(S.exports,function(j){var H=p[L][1][j];return y(H||j)},S,S.exports,a,p,h,g);}return h[L].exports}n(y,"Y");for(var m=typeof lr=="function"&&lr,w=0;w<g.length;w++)y(g[w]);return y},"L")({1:[function(a,p,h){(function(g){var y=g.MutationObserver||g.WebKitMutationObserver,m;if(y){var w=0,L=new y(j),P=g.document.createTextNode("");L.observe(P,{characterData:!0}),m=n(function(){P.data=w=++w%2;},"S");}else if(!g.setImmediate&&typeof g.MessageChannel<"u"){var C=new g.MessageChannel;C.port1.onmessage=j,m=n(function(){C.port2.postMessage(0);},"S");}else "document"in g&&"onreadystatechange"in g.document.createElement("script")?m=n(function(){var T=g.document.createElement("script");T.onreadystatechange=function(){j(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null;},g.document.documentElement.appendChild(T);},"S"):m=n(function(){setTimeout(j,0);},"S");var M,S=[];function j(){M=!0;for(var T,me,Q=S.length;Q;){for(me=S,S=[],T=-1;++T<Q;)me[T]();Q=S.length;}M=!1;}n(j,"z"),p.exports=H;function H(T){S.push(T)===1&&!M&&m();}n(H,"q");}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{});},{}],2:[function(a,p,h){var g=a(1);function y(){}n(y,"Y");var m={},w=["REJECTED"],L=["FULFILLED"],P=["PENDING"];p.exports=C;function C(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,O!==y&&H(this,O);}n(C,"m"),C.prototype.catch=function(O){return this.then(null,O)},C.prototype.then=function(O,X){if(typeof O!="function"&&this.state===L||typeof X!="function"&&this.state===w)return this;var G=new this.constructor(y);if(this.state!==P){var J=this.state===L?O:X;S(G,J,this.outcome);}else this.queue.push(new M(G,O,X));return G};function M(O,X,G){this.promise=O,typeof X=="function"&&(this.onFulfilled=X,this.callFulfilled=this.otherCallFulfilled),typeof G=="function"&&(this.onRejected=G,this.callRejected=this.otherCallRejected);}n(M,"w"),M.prototype.callFulfilled=function(O){m.resolve(this.promise,O);},M.prototype.otherCallFulfilled=function(O){S(this.promise,this.onFulfilled,O);},M.prototype.callRejected=function(O){m.reject(this.promise,O);},M.prototype.otherCallRejected=function(O){S(this.promise,this.onRejected,O);};function S(O,X,G){g(function(){var J;try{J=X(G);}catch(de){return m.reject(O,de)}J===O?m.reject(O,new TypeError("Cannot resolve promise with itself")):m.resolve(O,J);});}n(S,"N"),m.resolve=function(O,X){var G=T(j,X);if(G.status==="error")return m.reject(O,G.value);var J=G.value;if(J)H(O,J);else {O.state=L,O.outcome=X;for(var de=-1,Ce=O.queue.length;++de<Ce;)O.queue[de].callFulfilled(X);}return O},m.reject=function(O,X){O.state=w,O.outcome=X;for(var G=-1,J=O.queue.length;++G<J;)O.queue[G].callRejected(X);return O};function j(O){var X=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof X=="function")return function(){X.apply(O,arguments);}}n(j,"z");function H(O,X){var G=!1;function J(Se){G||(G=!0,m.reject(O,Se));}n(J,"B");function de(Se){G||(G=!0,m.resolve(O,Se));}n(de,"H");function Ce(){X(de,J);}n(Ce,"j");var Ae=T(Ce);Ae.status==="error"&&J(Ae.value);}n(H,"q");function T(O,X){var G={};try{G.value=O(X),G.status="success";}catch(J){G.status="error",G.value=J;}return G}n(T,"F"),C.resolve=me;function me(O){return O instanceof this?O:m.resolve(new this(y),O)}n(me,"k"),C.reject=Q;function Q(O){var X=new this(y);return m.reject(X,O)}n(Q,"U"),C.all=ct;function ct(O){var X=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=O.length,J=!1;if(!G)return this.resolve([]);for(var de=new Array(G),Ce=0,Ae=-1,Se=new this(y);++Ae<G;)Le(O[Ae],Ae);return Se;function Le(tt,v){X.resolve(tt).then(I,function(x){J||(J=!0,m.reject(Se,x));});function I(x){de[v]=x,++Ce===G&&!J&&(J=!0,m.resolve(Se,de));}n(I,"s");}}n(ct,"ae"),C.race=Be;function Be(O){var X=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=O.length,J=!1;if(!G)return this.resolve([]);for(var de=-1,Ce=new this(y);++de<G;)Ae(O[de]);return Ce;function Ae(Se){X.resolve(Se).then(function(Le){J||(J=!0,m.resolve(Ce,Le));},function(Le){J||(J=!0,m.reject(Ce,Le));});}}n(Be,"re");},{1:1}],3:[function(a,p,h){(function(g){typeof g.Promise!="function"&&(g.Promise=a(2));}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{});},{2:2}],4:[function(a,p,h){var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};function y(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")}n(y,"Y");function m(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}n(m,"S");var w=m();function L(){try{if(!w||!w.open)return !1;var i=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),u=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return (!i||u)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return !1}}n(L,"K");function P(i,u){i=i||[],u=u||{};try{return new Blob(i,u)}catch(f){if(f.name!=="TypeError")throw f;for(var l=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,d=new l,c=0;c<i.length;c+=1)d.append(i[c]);return d.getBlob(u.type)}}n(P,"Z"),typeof Promise>"u"&&a(3);var C=Promise;function M(i,u){u&&i.then(function(l){u(null,l);},function(l){u(l);});}n(M,"w");function S(i,u,l){typeof u=="function"&&i.then(u),typeof l=="function"&&i.catch(l);}n(S,"N");function j(i){return typeof i!="string"&&(console.warn(i+" used as a key, but it is not a string."),i=String(i)),i}n(j,"z");function H(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}n(H,"q");var T="local-forage-detect-blob-support",me=void 0,Q={},ct=Object.prototype.toString,Be="readonly",O="readwrite";function X(i){for(var u=i.length,l=new ArrayBuffer(u),d=new Uint8Array(l),c=0;c<u;c++)d[c]=i.charCodeAt(c);return l}n(X,"R");function G(i){return new C(function(u){var l=i.transaction(T,O),d=P([""]);l.objectStore(T).put(d,"key"),l.onabort=function(c){c.preventDefault(),c.stopPropagation(),u(!1);},l.oncomplete=function(){var c=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);u(f||!c||parseInt(c[1],10)>=43);};}).catch(function(){return !1})}n(G,"I");function J(i){return typeof me=="boolean"?C.resolve(me):G(i).then(function(u){return me=u,me})}n(J,"B");function de(i){var u=Q[i.name],l={};l.promise=new C(function(d,c){l.resolve=d,l.reject=c;}),u.deferredOperations.push(l),u.dbReady?u.dbReady=u.dbReady.then(function(){return l.promise}):u.dbReady=l.promise;}n(de,"H");function Ce(i){var u=Q[i.name],l=u.deferredOperations.pop();if(l)return l.resolve(),l.promise}n(Ce,"j");function Ae(i,u){var l=Q[i.name],d=l.deferredOperations.pop();if(d)return d.reject(u),d.promise}n(Ae,"J");function Se(i,u){return new C(function(l,d){if(Q[i.name]=Q[i.name]||ge(),i.db)if(u)de(i),i.db.close();else return l(i.db);var c=[i.name];u&&c.push(i.version);var f=w.open.apply(w,c);u&&(f.onupgradeneeded=function(E){var _=f.result;try{_.createObjectStore(i.storeName),E.oldVersion<=1&&_.createObjectStore(T);}catch(N){if(N.name==="ConstraintError")console.warn('The database "'+i.name+'" has been upgraded from version '+E.oldVersion+" to version "+E.newVersion+', but the storage "'+i.storeName+'" already exists.');else throw N}}),f.onerror=function(E){E.preventDefault(),d(f.error);},f.onsuccess=function(){l(f.result),Ce(i);};})}n(Se,"$");function Le(i){return Se(i,!1)}n(Le,"ee");function tt(i){return Se(i,!0)}n(tt,"oe");function v(i,u){if(!i.db)return !0;var l=!i.db.objectStoreNames.contains(i.storeName),d=i.version<i.db.version,c=i.version>i.db.version;if(d&&(i.version!==u&&console.warn('The database "'+i.name+`" can't be downgraded from version `+i.db.version+" to version "+i.version+"."),i.version=i.db.version),c||l){if(l){var f=i.db.version+1;f>i.version&&(i.version=f);}return !0}return !1}n(v,"a");function I(i){return new C(function(u,l){var d=new FileReader;d.onerror=l,d.onloadend=function(c){var f=btoa(c.target.result||"");u({__local_forage_encoded_blob:!0,data:f,type:i.type});},d.readAsBinaryString(i);})}n(I,"s");function x(i){var u=X(atob(i.data));return P([u],{type:i.type})}n(x,"v");function U(i){return i&&i.__local_forage_encoded_blob}n(U,"b");function F(i){var u=this,l=u._initReady().then(function(){var d=Q[u._dbInfo.name];if(d&&d.dbReady)return d.dbReady});return S(l,i,i),l}n(F,"_");function W(i){de(i);for(var u=Q[i.name],l=u.forages,d=0;d<l.length;d++){var c=l[d];c._dbInfo.db&&(c._dbInfo.db.close(),c._dbInfo.db=null);}return i.db=null,Le(i).then(function(f){return i.db=f,v(i)?tt(i):f}).then(function(f){i.db=u.db=f;for(var E=0;E<l.length;E++)l[E]._dbInfo.db=f;}).catch(function(f){throw Ae(i,f),f})}n(W,"E");function Y(i,u,l,d){d===void 0&&(d=1);try{var c=i.db.transaction(i.storeName,u);l(null,c);}catch(f){if(d>0&&(!i.db||f.name==="InvalidStateError"||f.name==="NotFoundError"))return C.resolve().then(function(){if(!i.db||f.name==="NotFoundError"&&!i.db.objectStoreNames.contains(i.storeName)&&i.version<=i.db.version)return i.db&&(i.version=i.db.version+1),tt(i)}).then(function(){return W(i).then(function(){Y(i,u,l,d-1);})}).catch(l);l(f);}}n(Y,"D");function ge(){return {forages:[],db:null,dbReady:null,deferredOperations:[]}}n(ge,"G");function dt(i){var u=this,l={db:null};if(i)for(var d in i)l[d]=i[d];var c=Q[l.name];c||(c=ge(),Q[l.name]=c),c.forages.push(u),u._initReady||(u._initReady=u.ready,u.ready=F);var f=[];function E(){return C.resolve()}n(E,"f");for(var _=0;_<c.forages.length;_++){var N=c.forages[_];N!==u&&f.push(N._initReady().catch(E));}var R=c.forages.slice(0);return C.all(f).then(function(){return l.db=c.db,Le(l)}).then(function(A){return l.db=A,v(l,u._defaultConfig.version)?tt(l):A}).then(function(A){l.db=c.db=A,u._dbInfo=l;for(var $=0;$<R.length;$++){var K=R[$];K!==u&&(K._dbInfo.db=l.db,K._dbInfo.version=l.version);}})}n(dt,"fe");function rt(i,u){var l=this;i=j(i);var d=new C(function(c,f){l.ready().then(function(){Y(l._dbInfo,Be,function(E,_){if(E)return f(E);try{var N=_.objectStore(l._dbInfo.storeName),R=N.get(i);R.onsuccess=function(){var A=R.result;A===void 0&&(A=null),U(A)&&(A=x(A)),c(A);},R.onerror=function(){f(R.error);};}catch(A){f(A);}});}).catch(f);});return M(d,u),d}n(rt,"ie");function Rt(i,u){var l=this,d=new C(function(c,f){l.ready().then(function(){Y(l._dbInfo,Be,function(E,_){if(E)return f(E);try{var N=_.objectStore(l._dbInfo.storeName),R=N.openCursor(),A=1;R.onsuccess=function(){var $=R.result;if($){var K=$.value;U(K)&&(K=x(K));var re=i(K,$.key,A++);re!==void 0?c(re):$.continue();}else c();},R.onerror=function(){f(R.error);};}catch($){f($);}});}).catch(f);});return M(d,u),d}n(Rt,"ce");function Ci(i,u,l){var d=this;i=j(i);var c=new C(function(f,E){var _;d.ready().then(function(){return _=d._dbInfo,ct.call(u)==="[object Blob]"?J(_.db).then(function(N){return N?u:I(u)}):u}).then(function(N){Y(d._dbInfo,O,function(R,A){if(R)return E(R);try{var $=A.objectStore(d._dbInfo.storeName);N===null&&(N=void 0);var K=$.put(N,i);A.oncomplete=function(){N===void 0&&(N=null),f(N);},A.onabort=A.onerror=function(){var re=K.error?K.error:K.transaction.error;E(re);};}catch(re){E(re);}});}).catch(E);});return M(c,l),c}n(Ci,"nr");function Ii(i,u){var l=this;i=j(i);var d=new C(function(c,f){l.ready().then(function(){Y(l._dbInfo,O,function(E,_){if(E)return f(E);try{var N=_.objectStore(l._dbInfo.storeName),R=N.delete(i);_.oncomplete=function(){c();},_.onerror=function(){f(R.error);},_.onabort=function(){var A=R.error?R.error:R.transaction.error;f(A);};}catch(A){f(A);}});}).catch(f);});return M(d,u),d}n(Ii,"or");function _i(i){var u=this,l=new C(function(d,c){u.ready().then(function(){Y(u._dbInfo,O,function(f,E){if(f)return c(f);try{var _=E.objectStore(u._dbInfo.storeName),N=_.clear();E.oncomplete=function(){d();},E.onabort=E.onerror=function(){var R=N.error?N.error:N.transaction.error;c(R);};}catch(R){c(R);}});}).catch(c);});return M(l,i),l}n(_i,"ir");function Ai(i){var u=this,l=new C(function(d,c){u.ready().then(function(){Y(u._dbInfo,Be,function(f,E){if(f)return c(f);try{var _=E.objectStore(u._dbInfo.storeName),N=_.count();N.onsuccess=function(){d(N.result);},N.onerror=function(){c(N.error);};}catch(R){c(R);}});}).catch(c);});return M(l,i),l}n(Ai,"ar");function Si(i,u){var l=this,d=new C(function(c,f){if(i<0){c(null);return}l.ready().then(function(){Y(l._dbInfo,Be,function(E,_){if(E)return f(E);try{var N=_.objectStore(l._dbInfo.storeName),R=!1,A=N.openKeyCursor();A.onsuccess=function(){var $=A.result;if(!$){c(null);return}i===0||R?c($.key):(R=!0,$.advance(i));},A.onerror=function(){f(A.error);};}catch($){f($);}});}).catch(f);});return M(d,u),d}n(Si,"fr");function Ri(i){var u=this,l=new C(function(d,c){u.ready().then(function(){Y(u._dbInfo,Be,function(f,E){if(f)return c(f);try{var _=E.objectStore(u._dbInfo.storeName),N=_.openKeyCursor(),R=[];N.onsuccess=function(){var A=N.result;if(!A){d(R);return}R.push(A.key),A.continue();},N.onerror=function(){c(N.error);};}catch(A){c(A);}});}).catch(c);});return M(l,i),l}n(Ri,"ur");function Ni(i,u){u=H.apply(this,arguments);var l=this.config();i=typeof i!="function"&&i||{},i.name||(i.name=i.name||l.name,i.storeName=i.storeName||l.storeName);var d=this,c;if(!i.name)c=C.reject("Invalid arguments");else {var f=i.name===l.name&&d._dbInfo.db,E=f?C.resolve(d._dbInfo.db):Le(i).then(function(_){var N=Q[i.name],R=N.forages;N.db=_;for(var A=0;A<R.length;A++)R[A]._dbInfo.db=_;return _});i.storeName?c=E.then(function(_){if(_.objectStoreNames.contains(i.storeName)){var N=_.version+1;de(i);var R=Q[i.name],A=R.forages;_.close();for(var $=0;$<A.length;$++){var K=A[$];K._dbInfo.db=null,K._dbInfo.version=N;}var re=new C(function(Z,fe){var ue=w.open(i.name,N);ue.onerror=function(Ie){var Or=ue.result;Or.close(),fe(Ie);},ue.onupgradeneeded=function(){var Ie=ue.result;Ie.deleteObjectStore(i.storeName);},ue.onsuccess=function(){var Ie=ue.result;Ie.close(),Z(Ie);};});return re.then(function(Z){R.db=Z;for(var fe=0;fe<A.length;fe++){var ue=A[fe];ue._dbInfo.db=Z,Ce(ue._dbInfo);}}).catch(function(Z){throw (Ae(i,Z)||C.resolve()).catch(function(){}),Z})}}):c=E.then(function(_){de(i);var N=Q[i.name],R=N.forages;_.close();for(var A=0;A<R.length;A++){var $=R[A];$._dbInfo.db=null;}var K=new C(function(re,Z){var fe=w.deleteDatabase(i.name);fe.onerror=fe.onblocked=function(ue){var Ie=fe.result;Ie&&Ie.close(),Z(ue);},fe.onsuccess=function(){var ue=fe.result;ue&&ue.close(),re(ue);};});return K.then(function(re){N.db=re;for(var Z=0;Z<R.length;Z++){var fe=R[Z];Ce(fe._dbInfo);}}).catch(function(re){throw (Ae(i,re)||C.resolve()).catch(function(){}),re})});}return M(c,u),c}n(Ni,"sr");var xi={_driver:"asyncStorage",_initStorage:dt,_support:L(),iterate:Rt,getItem:rt,setItem:Ci,removeItem:Ii,clear:_i,length:Ai,key:Si,keys:Ri,dropInstance:Ni};function Ti(){return typeof openDatabase=="function"}n(Ti,"lr");var ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mi="~~local_forage_type~",mn=/^~~local_forage_type~([^~]+)~/,Ht="__lfsc__:",Ar=Ht.length,Sr="arbf",Rr="blob",hn="si08",gn="ui08",yn="uic8",vn="si16",bn="si32",En="ur16",wn="ui32",Cn="fl32",In="fl64",_n=Ar+Sr.length,An=Object.prototype.toString;function Sn(i){var u=i.length*.75,l=i.length,d,c=0,f,E,_,N;i[i.length-1]==="="&&(u--,i[i.length-2]==="="&&u--);var R=new ArrayBuffer(u),A=new Uint8Array(R);for(d=0;d<l;d+=4)f=ze.indexOf(i[d]),E=ze.indexOf(i[d+1]),_=ze.indexOf(i[d+2]),N=ze.indexOf(i[d+3]),A[c++]=f<<2|E>>4,A[c++]=(E&15)<<4|_>>2,A[c++]=(_&3)<<6|N&63;return R}n(Sn,"He");function Nr(i){var u=new Uint8Array(i),l="",d;for(d=0;d<u.length;d+=3)l+=ze[u[d]>>2],l+=ze[(u[d]&3)<<4|u[d+1]>>4],l+=ze[(u[d+1]&15)<<2|u[d+2]>>6],l+=ze[u[d+2]&63];return u.length%3===2?l=l.substring(0,l.length-1)+"=":u.length%3===1&&(l=l.substring(0,l.length-2)+"=="),l}n(Nr,"we");function Oi(i,u){var l="";if(i&&(l=An.call(i)),i&&(l==="[object ArrayBuffer]"||i.buffer&&An.call(i.buffer)==="[object ArrayBuffer]")){var d,c=Ht;i instanceof ArrayBuffer?(d=i,c+=Sr):(d=i.buffer,l==="[object Int8Array]"?c+=hn:l==="[object Uint8Array]"?c+=gn:l==="[object Uint8ClampedArray]"?c+=yn:l==="[object Int16Array]"?c+=vn:l==="[object Uint16Array]"?c+=En:l==="[object Int32Array]"?c+=bn:l==="[object Uint32Array]"?c+=wn:l==="[object Float32Array]"?c+=Cn:l==="[object Float64Array]"?c+=In:u(new Error("Failed to get type for BinaryArray"))),u(c+Nr(d));}else if(l==="[object Blob]"){var f=new FileReader;f.onload=function(){var E=Mi+i.type+"~"+Nr(this.result);u(Ht+Rr+E);},f.readAsArrayBuffer(i);}else try{u(JSON.stringify(i));}catch(E){console.error("Couldn't convert value into a JSON string: ",i),u(null,E);}}n(Oi,"vr");function Li(i){if(i.substring(0,Ar)!==Ht)return JSON.parse(i);var u=i.substring(_n),l=i.substring(Ar,_n),d;if(l===Rr&&mn.test(u)){var c=u.match(mn);d=c[1],u=u.substring(c[0].length);}var f=Sn(u);switch(l){case Sr:return f;case Rr:return P([f],{type:d});case hn:return new Int8Array(f);case gn:return new Uint8Array(f);case yn:return new Uint8ClampedArray(f);case vn:return new Int16Array(f);case En:return new Uint16Array(f);case bn:return new Int32Array(f);case wn:return new Uint32Array(f);case Cn:return new Float32Array(f);case In:return new Float64Array(f);default:throw new Error("Unkown type: "+l)}}n(Li,"hr");var xr={serialize:Oi,deserialize:Li,stringToBuffer:Sn,bufferToString:Nr};function Rn(i,u,l,d){i.executeSql("CREATE TABLE IF NOT EXISTS "+u.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],l,d);}n(Rn,"Ve");function Pi(i){var u=this,l={db:null};if(i)for(var d in i)l[d]=typeof i[d]!="string"?i[d].toString():i[d];var c=new C(function(f,E){try{l.db=openDatabase(l.name,String(l.version),l.description,l.size);}catch(_){return E(_)}l.db.transaction(function(_){Rn(_,l,function(){u._dbInfo=l,f();},function(N,R){E(R);});},E);});return l.serializer=xr,c}n(Pi,"mr");function Ve(i,u,l,d,c,f){i.executeSql(l,d,c,function(E,_){_.code===_.SYNTAX_ERR?E.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[u.storeName],function(N,R){R.rows.length?f(N,_):Rn(N,u,function(){N.executeSql(l,d,c,f);},f);},f):f(E,_);},f);}n(Ve,"ne");function ki(i,u){var l=this;i=j(i);var d=new C(function(c,f){l.ready().then(function(){var E=l._dbInfo;E.db.transaction(function(_){Ve(_,E,"SELECT * FROM "+E.storeName+" WHERE key = ? LIMIT 1",[i],function(N,R){var A=R.rows.length?R.rows.item(0).value:null;A&&(A=E.serializer.deserialize(A)),c(A);},function(N,R){f(R);});});}).catch(f);});return M(d,u),d}n(ki,"yr");function $i(i,u){var l=this,d=new C(function(c,f){l.ready().then(function(){var E=l._dbInfo;E.db.transaction(function(_){Ve(_,E,"SELECT * FROM "+E.storeName,[],function(N,R){for(var A=R.rows,$=A.length,K=0;K<$;K++){var re=A.item(K),Z=re.value;if(Z&&(Z=E.serializer.deserialize(Z)),Z=i(Z,re.key,K+1),Z!==void 0){c(Z);return}}c();},function(N,R){f(R);});});}).catch(f);});return M(d,u),d}n($i,"pr");function Nn(i,u,l,d){var c=this;i=j(i);var f=new C(function(E,_){c.ready().then(function(){u===void 0&&(u=null);var N=u,R=c._dbInfo;R.serializer.serialize(u,function(A,$){$?_($):R.db.transaction(function(K){Ve(K,R,"INSERT OR REPLACE INTO "+R.storeName+" (key, value) VALUES (?, ?)",[i,A],function(){E(N);},function(re,Z){_(Z);});},function(K){if(K.code===K.QUOTA_ERR){if(d>0){E(Nn.apply(c,[i,N,l,d-1]));return}_(K);}});});}).catch(_);});return M(f,l),f}n(Nn,"Ge");function Di(i,u,l){return Nn.apply(this,[i,u,l,1])}n(Di,"gr");function ji(i,u){var l=this;i=j(i);var d=new C(function(c,f){l.ready().then(function(){var E=l._dbInfo;E.db.transaction(function(_){Ve(_,E,"DELETE FROM "+E.storeName+" WHERE key = ?",[i],function(){c();},function(N,R){f(R);});});}).catch(f);});return M(d,u),d}n(ji,"br");function Ui(i){var u=this,l=new C(function(d,c){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(E){Ve(E,f,"DELETE FROM "+f.storeName,[],function(){d();},function(_,N){c(N);});});}).catch(c);});return M(l,i),l}n(Ui,"_r");function Fi(i){var u=this,l=new C(function(d,c){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(E){Ve(E,f,"SELECT COUNT(key) as c FROM "+f.storeName,[],function(_,N){var R=N.rows.item(0).c;d(R);},function(_,N){c(N);});});}).catch(c);});return M(l,i),l}n(Fi,"wr");function Bi(i,u){var l=this,d=new C(function(c,f){l.ready().then(function(){var E=l._dbInfo;E.db.transaction(function(_){Ve(_,E,"SELECT key FROM "+E.storeName+" WHERE id = ? LIMIT 1",[i+1],function(N,R){var A=R.rows.length?R.rows.item(0).key:null;c(A);},function(N,R){f(R);});});}).catch(f);});return M(d,u),d}n(Bi,"Er");function Wi(i){var u=this,l=new C(function(d,c){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(E){Ve(E,f,"SELECT key FROM "+f.storeName,[],function(_,N){for(var R=[],A=0;A<N.rows.length;A++)R.push(N.rows.item(A).key);d(R);},function(_,N){c(N);});});}).catch(c);});return M(l,i),l}n(Wi,"Ir");function qi(i){return new C(function(u,l){i.transaction(function(d){d.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(c,f){for(var E=[],_=0;_<f.rows.length;_++)E.push(f.rows.item(_).name);u({db:i,storeNames:E});},function(c,f){l(f);});},function(d){l(d);});})}n(qi,"Sr");function Gi(i,u){u=H.apply(this,arguments);var l=this.config();i=typeof i!="function"&&i||{},i.name||(i.name=i.name||l.name,i.storeName=i.storeName||l.storeName);var d=this,c;return i.name?c=new C(function(f){var E;i.name===l.name?E=d._dbInfo.db:E=openDatabase(i.name,"","",0),i.storeName?f({db:E,storeNames:[i.storeName]}):f(qi(E));}).then(function(f){return new C(function(E,_){f.db.transaction(function(N){function R(re){return new C(function(Z,fe){N.executeSql("DROP TABLE IF EXISTS "+re,[],function(){Z();},function(ue,Ie){fe(Ie);});})}n(R,"l");for(var A=[],$=0,K=f.storeNames.length;$<K;$++)A.push(R(f.storeNames[$]));C.all(A).then(function(){E();}).catch(function(re){_(re);});},function(N){_(N);});})}):c=C.reject("Invalid arguments"),M(c,u),c}n(Gi,"Ar");var Ki={_driver:"webSQLStorage",_initStorage:Pi,_support:Ti(),iterate:$i,getItem:ki,setItem:Di,removeItem:ji,clear:Ui,length:Fi,key:Bi,keys:Wi,dropInstance:Gi};function Hi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return !1}}n(Hi,"Dr");function xn(i,u){var l=i.name+"/";return i.storeName!==u.storeName&&(l+=i.storeName+"/"),l}n(xn,"je");function zi(){var i="_localforage_support_test";try{return localStorage.setItem(i,!0),localStorage.removeItem(i),!1}catch{return !0}}n(zi,"Nr");function Vi(){return !zi()||localStorage.length>0}n(Vi,"Tr");function Xi(i){var u=this,l={};if(i)for(var d in i)l[d]=i[d];return l.keyPrefix=xn(i,u._defaultConfig),Vi()?(u._dbInfo=l,l.serializer=xr,C.resolve()):C.reject()}n(Xi,"Br");function Yi(i){var u=this,l=u.ready().then(function(){for(var d=u._dbInfo.keyPrefix,c=localStorage.length-1;c>=0;c--){var f=localStorage.key(c);f.indexOf(d)===0&&localStorage.removeItem(f);}});return M(l,i),l}n(Yi,"xr");function Qi(i,u){var l=this;i=j(i);var d=l.ready().then(function(){var c=l._dbInfo,f=localStorage.getItem(c.keyPrefix+i);return f&&(f=c.serializer.deserialize(f)),f});return M(d,u),d}n(Qi,"Or");function Ji(i,u){var l=this,d=l.ready().then(function(){for(var c=l._dbInfo,f=c.keyPrefix,E=f.length,_=localStorage.length,N=1,R=0;R<_;R++){var A=localStorage.key(R);if(A.indexOf(f)===0){var $=localStorage.getItem(A);if($&&($=c.serializer.deserialize($)),$=i($,A.substring(E),N++),$!==void 0)return $}}});return M(d,u),d}n(Ji,"Cr");function Zi(i,u){var l=this,d=l.ready().then(function(){var c=l._dbInfo,f;try{f=localStorage.key(i);}catch{f=null;}return f&&(f=f.substring(c.keyPrefix.length)),f});return M(d,u),d}n(Zi,"Lr");function es(i){var u=this,l=u.ready().then(function(){for(var d=u._dbInfo,c=localStorage.length,f=[],E=0;E<c;E++){var _=localStorage.key(E);_.indexOf(d.keyPrefix)===0&&f.push(_.substring(d.keyPrefix.length));}return f});return M(l,i),l}n(es,"Pr");function ts(i){var u=this,l=u.keys().then(function(d){return d.length});return M(l,i),l}n(ts,"Mr");function rs(i,u){var l=this;i=j(i);var d=l.ready().then(function(){var c=l._dbInfo;localStorage.removeItem(c.keyPrefix+i);});return M(d,u),d}n(rs,"Fr");function ns(i,u,l){var d=this;i=j(i);var c=d.ready().then(function(){u===void 0&&(u=null);var f=u;return new C(function(E,_){var N=d._dbInfo;N.serializer.serialize(u,function(R,A){if(A)_(A);else try{localStorage.setItem(N.keyPrefix+i,R),E(f);}catch($){($.name==="QuotaExceededError"||$.name==="NS_ERROR_DOM_QUOTA_REACHED")&&_($),_($);}});})});return M(c,l),c}n(ns,"Ur");function os(i,u){if(u=H.apply(this,arguments),i=typeof i!="function"&&i||{},!i.name){var l=this.config();i.name=i.name||l.name,i.storeName=i.storeName||l.storeName;}var d=this,c;return i.name?c=new C(function(f){i.storeName?f(xn(i,d._defaultConfig)):f(i.name+"/");}).then(function(f){for(var E=localStorage.length-1;E>=0;E--){var _=localStorage.key(E);_.indexOf(f)===0&&localStorage.removeItem(_);}}):c=C.reject("Invalid arguments"),M(c,u),c}n(os,"Yr");var is={_driver:"localStorageWrapper",_initStorage:Xi,_support:Hi(),iterate:Ji,getItem:Qi,setItem:ns,removeItem:rs,clear:Yi,length:ts,key:Zi,keys:es,dropInstance:os},ss=n(function(i,u){return i===u||typeof i=="number"&&typeof u=="number"&&isNaN(i)&&isNaN(u)},"Wr"),as=n(function(i,u){for(var l=i.length,d=0;d<l;){if(ss(i[d],u))return !0;d++;}return !1},"Kr"),Tn=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"},Nt={},Mn={},ft={INDEXEDDB:xi,WEBSQL:Ki,LOCALSTORAGE:is},us=[ft.INDEXEDDB._driver,ft.WEBSQL._driver,ft.LOCALSTORAGE._driver],zt=["dropInstance"],Tr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(zt),ls={description:"",driver:us.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function cs(i,u){i[u]=function(){var l=arguments;return i.ready().then(function(){return i[u].apply(i,l)})};}n(cs,"Gr");function Mr(){for(var i=1;i<arguments.length;i++){var u=arguments[i];if(u)for(var l in u)u.hasOwnProperty(l)&&(Tn(u[l])?arguments[0][l]=u[l].slice():arguments[0][l]=u[l]);}return arguments[0]}n(Mr,"Se");var ds=function(){function i(u){y(this,i);for(var l in ft)if(ft.hasOwnProperty(l)){var d=ft[l],c=d._driver;this[l]=c,Nt[c]||this.defineDriver(d);}this._defaultConfig=Mr({},ls),this._config=Mr({},this._defaultConfig,u),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){});}return n(i,"e"),i.prototype.config=function(u){if((typeof u>"u"?"undefined":g(u))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var l in u){if(l==="storeName"&&(u[l]=u[l].replace(/\W/g,"_")),l==="version"&&typeof u[l]!="number")return new Error("Database version must be a number.");this._config[l]=u[l];}return "driver"in u&&u.driver?this.setDriver(this._config.driver):!0}else return typeof u=="string"?this._config[u]:this._config},i.prototype.defineDriver=function(u,l,d){var c=new C(function(f,E){try{var _=u._driver,N=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!u._driver){E(N);return}for(var R=Tr.concat("_initStorage"),A=0,$=R.length;A<$;A++){var K=R[A],re=!as(zt,K);if((re||u[K])&&typeof u[K]!="function"){E(N);return}}var Z=n(function(){for(var ue=function(ps){return function(){var ms=new Error("Method "+ps+" is not implemented by the current driver"),On=C.reject(ms);return M(On,arguments[arguments.length-1]),On}},Ie=0,Or=zt.length;Ie<Or;Ie++){var Lr=zt[Ie];u[Lr]||(u[Lr]=ue(Lr));}},"V");Z();var fe=n(function(ue){Nt[_]&&console.info("Redefining LocalForage driver: "+_),Nt[_]=u,Mn[_]=ue,f();},"W");"_support"in u?u._support&&typeof u._support=="function"?u._support().then(fe,E):fe(!!u._support):fe(!0);}catch(ue){E(ue);}});return S(c,l,d),c},i.prototype.driver=function(){return this._driver||null},i.prototype.getDriver=function(u,l,d){var c=Nt[u]?C.resolve(Nt[u]):C.reject(new Error("Driver not found."));return S(c,l,d),c},i.prototype.getSerializer=function(u){var l=C.resolve(xr);return S(l,u),l},i.prototype.ready=function(u){var l=this,d=l._driverSet.then(function(){return l._ready===null&&(l._ready=l._initDriver()),l._ready});return S(d,u,u),d},i.prototype.setDriver=function(u,l,d){var c=this;Tn(u)||(u=[u]);var f=this._getSupportedDrivers(u);function E(){c._config.driver=c.driver();}n(E,"u");function _(A){return c._extend(A),E(),c._ready=c._initStorage(c._config),c._ready}n(_,"c");function N(A){return function(){var $=0;function K(){for(;$<A.length;){var re=A[$];return $++,c._dbInfo=null,c._ready=null,c.getDriver(re).then(_).catch(K)}E();var Z=new Error("No available storage method found.");return c._driverSet=C.reject(Z),c._driverSet}return n(K,"T"),K()}}n(N,"l");var R=this._driverSet!==null?this._driverSet.catch(function(){return C.resolve()}):C.resolve();return this._driverSet=R.then(function(){var A=f[0];return c._dbInfo=null,c._ready=null,c.getDriver(A).then(function($){c._driver=$._driver,E(),c._wrapLibraryMethodsWithReady(),c._initDriver=N(f);})}).catch(function(){E();var A=new Error("No available storage method found.");return c._driverSet=C.reject(A),c._driverSet}),S(this._driverSet,l,d),this._driverSet},i.prototype.supports=function(u){return !!Mn[u]},i.prototype._extend=function(u){Mr(this,u);},i.prototype._getSupportedDrivers=function(u){for(var l=[],d=0,c=u.length;d<c;d++){var f=u[d];this.supports(f)&&l.push(f);}return l},i.prototype._wrapLibraryMethodsWithReady=function(){for(var u=0,l=Tr.length;u<l;u++)cs(this,Tr[u]);},i.prototype.createInstance=function(u){return new i(u)},i}(),fs=new ds;p.exports=fs;},{3:3}]},{},[4])(4)});}),Cu=Co((e,t)=>{(function(r,o){typeof e=="object"&&typeof t<"u"?o(e):typeof define=="function"&&define.amd?define("localforage-driver-memory",["exports"],o):o(r.LocalforageDriverMemory={});})(typeof self<"u"?self:e,function(r){var o="localforage-driver-memory";function s(v){var I=typeof Symbol=="function"&&v[Symbol.iterator],x=0;return I?I.call(v):{next:function(){return v&&x>=v.length&&(v=void 0),{value:v&&v[x++],done:!v}}}}n(s,"O");function a(v,I){v=v||[],I=I||{};try{return new Blob(v,I)}catch(W){if(W.name!=="TypeError")throw W;for(var x=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,U=new x,F=0;F<v.length;F+=1)U.append(v[F]);return U.getBlob(I.type)}}n(a,"L");var p=/^~~local_forage_type~([^~]+)~/,h=9,g=h+4,y=Object.prototype.toString;function m(v){var I=v.length*.75,x=v.length;v[v.length-1]==="="&&(I--,v[v.length-2]==="="&&I--);for(var U=new ArrayBuffer(I),F=new Uint8Array(U),W=0,Y=0;W<x;W+=4){var ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[W]),dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[W+1]),rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[W+2]),Rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[W+3]);F[Y++]=ge<<2|dt>>4,F[Y++]=(dt&15)<<4|rt>>2,F[Y++]=(rt&3)<<6|Rt&63;}return U}n(m,"S");function w(v){for(var I=new Uint8Array(v),x="",U=0;U<I.length;U+=3)x+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[I[U]>>2],x+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(I[U]&3)<<4|I[U+1]>>4],x+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(I[U+1]&15)<<2|I[U+2]>>6],x+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[I[U+2]&63];return I.length%3===2?x=x.substring(0,x.length-1)+"=":I.length%3===1&&(x=x.substring(0,x.length-2)+"=="),x}n(w,"P");function L(v,I){var x="";if(v&&(x=y.call(v)),v&&(x==="[object ArrayBuffer]"||v.buffer&&y.call(v.buffer)==="[object ArrayBuffer]")){var U=void 0,F="__lfsc__:";v instanceof ArrayBuffer?(U=v,F+="arbf"):(U=v.buffer,x==="[object Int8Array]"?F+="si08":x==="[object Uint8Array]"?F+="ui08":x==="[object Uint8ClampedArray]"?F+="uic8":x==="[object Int16Array]"?F+="si16":x==="[object Uint16Array]"?F+="ur16":x==="[object Int32Array]"?F+="si32":x==="[object Uint32Array]"?F+="ui32":x==="[object Float32Array]"?F+="fl32":x==="[object Float64Array]"?F+="fl64":I(new Error("Failed to get type for BinaryArray"))),I(F+w(U));}else if(x==="[object Blob]"){var W=new FileReader;W.onload=function(){var Y="~~local_forage_type~"+v.type+"~"+w(this.result);I("__lfsc__:blob"+Y);},W.readAsArrayBuffer(v);}else try{I(JSON.stringify(v));}catch(Y){console.error("Couldn't convert value into a JSON string: ",v),I(null,Y);}}n(L,"K");function P(v){if(v.substring(0,h)!=="__lfsc__:")return JSON.parse(v);var I=v.substring(g),x=v.substring(h,g),U;if(x==="blob"&&p.test(I)){var F=I.match(p);U=F[1],I=I.substring(F[0].length);}var W=m(I);switch(x){case"arbf":return W;case"blob":return a([W],{type:U});case"si08":return new Int8Array(W);case"ui08":return new Uint8Array(W);case"uic8":return new Uint8ClampedArray(W);case"si16":return new Int16Array(W);case"ur16":return new Uint16Array(W);case"si32":return new Int32Array(W);case"ui32":return new Uint32Array(W);case"fl32":return new Float32Array(W);case"fl64":return new Float64Array(W);default:throw new Error("Unkown type: "+x)}}n(P,"Z");function C(v){var I,x;if(v===null||typeof v!="object"||"isActiveClone"in v)return v;var U=v instanceof Date?new Date(v):v.constructor();try{for(var F=s(Object.keys(v)),W=F.next();!W.done;W=F.next()){var Y=W.value;Object.prototype.hasOwnProperty.call(v,Y)&&(v.isActiveClone=null,U[Y]=C(v[Y]),delete v.isActiveClone);}}catch(ge){I={error:ge};}finally{try{W&&!W.done&&(x=F.return)&&x.call(F);}finally{if(I)throw I.error}}return U}n(C,"m");function M(v,I){return (v.name||I.name)+"/"+(v.storeName||I.storeName)+"/"}n(M,"w");function S(v,I){I&&v.then(function(x){I(null,x);},function(x){I(x);});}n(S,"N");function j(){for(var v=[],I=0;I<arguments.length;I++)v[I]=arguments[I];if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}n(j,"z");function H(v,I){var x=this;if(I=j.apply(this,arguments),v=typeof v!="function"&&v||{},!v.name){var U=this.config();v.name=v.name||U.name,v.storeName=v.storeName||U.storeName;}var F;return v.name?F=new Promise(function(W){v.storeName?W(M(v,x._defaultConfig)):W(v.name+"/");}):F=Promise.reject("Invalid arguments"),{promise:F,callback:I}}n(H,"q");function T(v){return typeof v!="string"&&(console.warn(v+" used as a key, but it is not a string."),v=String(v)),v}n(T,"F");var me={bufferToString:w,deserialize:P,serialize:L,stringToBuffer:m},Q={},ct=function(){function v(I){this.kp=I,this.data={};}return n(v,"a"),v.resolve=function(I){return Q[I]||(Q[I]=new v(I)),Q[I]},v.prototype.clear=function(){this.data={};},v.prototype.drop=function(){this.clear(),delete Q[this.kp];},v.prototype.get=function(I){return this.data[I]},v.prototype.key=function(I){return this.keys()[I]},v.prototype.keys=function(){return Object.keys(this.data)},v.prototype.rm=function(I){delete this.data[I];},v.prototype.set=function(I,x){this.data[I]=x;},v}();function Be(v){var I=v?C(v):{},x=M(I,this._defaultConfig),U=ct.resolve(x);return this._dbInfo=I,this._dbInfo.serializer=me,this._dbInfo.keyPrefix=x,this._dbInfo.mStore=U,Promise.resolve()}n(Be,"re");function O(v){var I=this,x=this.ready().then(function(){I._dbInfo.mStore.clear();});return S(x,v),x}n(O,"h");function X(v,I){var x=H.apply(this,arguments),U=x.promise,F=x.callback,W=U.then(function(Y){ct.resolve(Y).drop();});return S(W,F),U}n(X,"R");function G(v,I){var x=this;v=T(v);var U=this.ready().then(function(){var F=x._dbInfo.mStore.get(v);return F==null?null:x._dbInfo.serializer.deserialize(F)});return S(U,I),U}n(G,"I");function J(v,I){var x=this,U=this.ready().then(function(){for(var F=x._dbInfo.mStore,W=F.keys(),Y=0;Y<W.length;Y++){var ge=F.get(W[Y]);if(ge&&(ge=x._dbInfo.serializer.deserialize(ge)),ge=v(ge,W[Y],Y+1),ge!==void 0)return ge}});return S(U,I),U}n(J,"B");function de(v,I){var x=this,U=this.ready().then(function(){var F;try{F=x._dbInfo.mStore.key(v),F===void 0&&(F=null);}catch{F=null;}return F});return S(U,I),U}n(de,"H");function Ce(v){var I=this,x=this.ready().then(function(){return I._dbInfo.mStore.keys()});return S(x,v),x}n(Ce,"j");function Ae(v){var I=this.keys().then(function(x){return x.length});return S(I,v),I}n(Ae,"J");function Se(v,I){var x=this;v=T(v);var U=this.ready().then(function(){x._dbInfo.mStore.rm(v);});return S(U,I),U}n(Se,"$");function Le(v,I,x){var U=this;v=T(v);var F=this.ready().then(function(){I===void 0&&(I=null);var W=I;return new Promise(function(Y,ge){U._dbInfo.serializer.serialize(I,function(dt,rt){if(rt)ge(rt);else try{U._dbInfo.mStore.set(v,dt),Y(W);}catch(Rt){ge(Rt);}});})});return S(F,x),F}n(Le,"ee");var tt=!0;r._support=tt,r._driver=o,r._initStorage=Be,r.clear=O,r.dropInstance=X,r.getItem=G,r.iterate=J,r.key=de,r.keys=Ce,r.length=Ae,r.removeItem=Se,r.setItem=Le,Object.defineProperty(r,"__esModule",{value:!0});});}),Gr=Io(wu()),wo=Io(Cu()),Iu={display:"none",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",zIndex:"2147483647"};n(_u,"ut");n(Au,"st");Su=n(class extends bo{constructor(){super(...arguments),this.activeElement=null;}init(){this.test="hello",this.iframe=new Promise(e=>{let t=n(()=>{if(Au(encodeURIComponent(this.parameters)))so().log();else {let r=document.createElement("iframe");r.classList.add("magic-iframe"),r.dataset.magicIframeLabel=kt(this.endpoint).host,r.title="Secure Modal",r.src=kt(`/send?params=${encodeURIComponent(this.parameters)}`,this.endpoint).href,_u(r),document.body.appendChild(r),e(r);}},"O");["loaded","interactive","complete"].includes(document.readyState)?t():window.addEventListener("load",t,!1);}),window.addEventListener("message",e=>{var t;if(e.origin===this.endpoint&&e.data&&e.data.msgType&&this.messageHandlers.size){e.data.response=(t=e.data.response)!=null?t:{};for(let r of this.messageHandlers.values())r(e);}});}showOverlay(){return cr(this,null,function*(){let e=yield this.iframe;e.style.display="block",this.activeElement=document.activeElement,e.focus();})}hideOverlay(){return cr(this,null,function*(){var e;let t=yield this.iframe;t.style.display="none",(e=this.activeElement)!=null&&e.focus&&this.activeElement.focus(),this.activeElement=null;})}_post(e){return cr(this,null,function*(){let t=yield this.iframe;if(t&&t.contentWindow)t.contentWindow.postMessage(e,this.endpoint);else throw io()})}},"Te"),Ru=oo(qr,{platform:"web",sdkName:"magic-sdk",version:"8.1.1",defaultEndpoint:"https://auth.magic.link/",ViewController:Su,configureStorage:()=>cr(void 0,null,function*(){let e=Gr.default.createInstance({name:"MagicAuthLocalStorageDB",storeName:"MagicAuthLocalStorage"});return yield e.defineDriver(wo),yield e.setDriver([Gr.default.INDEXEDDB,Gr.default.LOCALSTORAGE,wo._driver]),e})});});var ic={};kn(ic,{ChainId:()=>_r.ChainId,IpfsStorage:()=>_r.IpfsStorage,MediaRenderer:()=>nn,ThirdwebNftMedia:()=>ul,ThirdwebProvider:()=>Mu,ThirdwebSDKProvider:()=>Po,defaultChains:()=>et.defaultChains,defaultL2Chains:()=>et.defaultL2Chains,useAccount:()=>et.useAccount,useActiveChainId:()=>te,useActiveClaimCondition:()=>Wl,useActiveListings:()=>Tl,useAddress:()=>Qe,useAllRoleMembers:()=>ec,useAuctionWinner:()=>Ol,useBalance:()=>Kl,useBidBuffer:()=>Ll,useBuiltinContract:()=>se,useBuyNow:()=>Dl,useChainId:()=>Kt,useClaimConditions:()=>ql,useClaimIneligibilityReasons:()=>Gl,useClaimNFT:()=>Rl,useClaimToken:()=>Bl,useClaimedNFTSupply:()=>Sl,useClaimedNFTs:()=>_l,useCoinbaseWallet:()=>Ko,useConnect:()=>xe,useContract:()=>fl,useContractAbi:()=>ll,useContractCall:()=>gl,useContractData:()=>hl,useContractFunctions:()=>ml,useContractMetadata:()=>pl,useContractPublishMetadata:()=>dl,useContractType:()=>cl,useCreateAuctionListing:()=>kl,useCreateDirectListing:()=>Pl,useDesiredChainId:()=>Xr,useDisconnect:()=>Ku,useEdition:()=>Pu,useEditionDrop:()=>Lu,useGnosis:()=>Ju,useGrantRole:()=>nc,useIsAddressRole:()=>tc,useListing:()=>Nl,useListings:()=>xl,useMagic:()=>Zu,useMakeBid:()=>$l,useMarketplace:()=>$u,useMetadata:()=>Jl,useMetamask:()=>Xu,useMintNFT:()=>Cl,useMintToken:()=>Fl,useMultiwrap:()=>qu,useNFT:()=>yl,useNFTBalance:()=>wl,useNFTCollection:()=>Du,useNFTDrop:()=>ku,useNFTs:()=>dn,useNetwork:()=>tl,useNetworkMismatch:()=>el,useOwnedNFTs:()=>El,usePack:()=>ju,usePlatformFees:()=>Yl,usePrimarySaleRecipient:()=>Hl,useProvider:()=>et.useProvider,useReadonlySDK:()=>Hu,useResolvedMediaType:()=>tn,useRevokeRole:()=>oc,useRoleMembers:()=>wi,useRoyaltySettings:()=>Vl,useSDK:()=>Pe,useSetAllRoleMembers:()=>rc,useSignatureDrop:()=>Gu,useSigner:()=>Wt,useSplit:()=>Wu,useToken:()=>Uu,useTokenBalance:()=>Ul,useTokenDrop:()=>Fu,useTokenSupply:()=>jl,useTotalCirculatingSupply:()=>vl,useTotalCount:()=>bl,useUnclaimedNFTSupply:()=>Al,useUnclaimedNFTs:()=>Il,useUpdateMetadata:()=>Zl,useUpdatePlatformFees:()=>Ql,useUpdatePrimarySaleRecipient:()=>zl,useUpdateRoyaltySettings:()=>Xl,useVote:()=>Bu,useWalletConnect:()=>Yu,useWalletLink:()=>Qu,useWinningBid:()=>Ml});module.exports=ws(ic);b();b();b();var mt=require("@thirdweb-dev/sdk/dist/browser"),Xt=require("ethers"),ht=ie(require("tiny-invariant")),Yt=require("wagmi"),Dn={[mt.ChainId.Mainnet]:"https://safe-transaction.mainnet.gnosis.io",[mt.ChainId.Avalanche]:"https://safe-transaction.avalanche.gnosis.io",[mt.ChainId.Polygon]:"https://safe-transaction.polygon.gnosis.io",[mt.ChainId.Goerli]:"https://safe-transaction.goerli.gnosis.io",[mt.ChainId.Rinkeby]:"https://safe-transaction.rinkeby.gnosis.io"},jn=typeof window>"u",nt=class extends Yt.Connector{id="gnosis";ready=jn;name="Gnosis Safe";constructor(t){var r;t.chains=(r=t.chains)==null?void 0:r.filter(o=>o.id in Dn),super(pe(V({},t),{options:void 0})),jn||(this.ready=!0);}async connect(){this.safeSigner=await this.createSafeSigner();let t=await this.getAccount(),r=await this.getProvider(),o=await this.getChainId();return {account:t,provider:r,chain:{id:o,unsupported:this.isChainUnsupported(o)}}}async createSafeSigner(){var L,P,C;let t=await((L=this.previousConnector)==null?void 0:L.getSigner()),r=(P=this.config)==null?void 0:P.safeAddress,o=(C=this.config)==null?void 0:C.safeChainId;(0, ht.default)(t,"cannot create Gnosis Safe signer without a personal signer");let s=await t.getChainId();(0, ht.default)(s===o,"chainId of personal signer has to match safe chainId"),(0, ht.default)(r,"safeConfig.safeAddress is required, did you forget to call setSafeConfig?"),(0, ht.default)(o,"safeConfig.safeChainId is required, did you forget to call setSafeConfig?");let a=Dn[o];(0, ht.default)(a,"Chain not supported");let[p,h,g]=await Promise.all([Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('@gnosis.pm/safe-ethers-adapters')); }),Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('@gnosis.pm/safe-core-sdk')); }),Promise.resolve().then(function () { return /*#__PURE__*/_interopNamespace(require('@gnosis.pm/safe-ethers-lib')); })]),y=new g.default.default({ethers:Xt.ethers,signer:t}),m=await h.default.default.create({ethAdapter:y,safeAddress:r}),w=new p.SafeService(a);return new p.SafeEthersSigner(m,w,t.provider)}async disconnect(){this.config=void 0,this.safeSigner=void 0,this.previousConnector=void 0;}async getAccount(){return await(await this.getSigner()).getAddress()}async getChainId(){return (await this.getSigner()).getChainId()}async getProvider(){return (await this.getSigner()).provider}async getSigner(){return this.safeSigner||(this.safeSigner=await this.createSafeSigner()),this.safeSigner}async isAuthorized(){try{return !!await this.getAccount()}catch{return !1}}onAccountsChanged(t){t.length===0?this.emit("disconnect"):this.emit("change",{account:Xt.utils.getAddress(t[0])});}isChainUnsupported(t){var r;return (r=this.config)!=null&&r.safeChainId?t===this.config.safeChainId:!1}onChainChanged(t){let r=(0, Yt.normalizeChainId)(t),o=this.isChainUnsupported(r);this.emit("change",{chain:{id:r,unsupported:o}});}onDisconnect(){this.emit("disconnect");}setConfiguration(t,r){this.previousConnector=t,this.config=r;}};n(nt,"GnosisSafeConnector");b();var fr=require("ethers"),dr=ie(require("tiny-invariant")),pr=require("wagmi"),Hr=typeof window>"u",zr="--magic-link:configuration",Ft=class extends pr.Connector{id="magic";name="Magic";ready=Hr;getConfiguration(){if(Hr)return;let t=window.localStorage.getItem(zr);return t&&(this.configuration=JSON.parse(t)),this.configuration}constructor(t){if(super(pe(V({},t),{options:t==null?void 0:t.options})),this.options=t.options,!Hr){if(this.ready=!0,this.options.doNotAutoConnect||!this.getConfiguration())return;this.connect(!0);}}async connect(t){let h=this.options,{apiKey:r,doNotAutoConnect:o,rpcUrls:s}=h,a=Me(h,["apiKey","doNotAutoConnect","rpcUrls"]),p=this.getConfiguration();try{return (0,dr.default)(p,"did you forget to set the configuration via: setConfiguration()?"),t&&(p.showUI=!1),Promise.resolve().then(()=>(Ao(),_o)).then(async g=>{this.magic=new g.Magic(r,a),await this.magic.auth.loginWithMagicLink(p);let y=this.getProvider();y.on&&(y.on("accountsChanged",this.onAccountsChanged),y.on("chainChanged",this.onChainChanged),y.on("disconnect",this.onDisconnect));let m=await this.getAccount(),w=await this.getChainId();return {account:m,provider:y,chain:{id:w,unsupported:this.isChainUnsupported(w)}}})}catch(g){if(!t)throw g;return {account:void 0,provider:void 0,chain:void 0}}}async disconnect(){let t=this.getProvider();t!=null&&t.removeListener&&(t.removeListener("accountsChanged",this.onAccountsChanged),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect)),this.setConfiguration(void 0);}async switchChain(t){(0, dr.default)(!this.isChainUnsupported(t),"chain is not supported");let r=this.getProvider();return r!=null&&r.removeListener&&(r.removeListener("accountsChanged",this.onAccountsChanged),r.removeListener("chainChanged",this.onChainChanged),r.removeListener("disconnect",this.onDisconnect)),this.options.network={chainId:t,rpcUrl:this.options.rpcUrls[t]},await this.connect(),this.onChainChanged(t),this.chains.find(o=>o.id===t)}async getAccount(){return await(await this.getSigner()).getAddress()}async getChainId(){return await(await this.getSigner()).getChainId()}getProvider(){return (0, dr.default)(this.magic,"connector is not initialized"),new fr.providers.Web3Provider(this.magic.rpcProvider)}async getSigner(){return this.magic||await this.connect(),this.getProvider().getSigner()}async isAuthorized(){try{return !!await this.getAccount()}catch{return !1}}onAccountsChanged(t){t.length===0?this.emit("disconnect"):this.emit("change",{account:fr.utils.getAddress(t[0])});}isChainUnsupported(t){return !this.chains.some(r=>r.id===t)}onChainChanged(t){let r=(0, pr.normalizeChainId)(t),o=this.isChainUnsupported(r);this.emit("change",{chain:{id:r,unsupported:o}});}onDisconnect(){this.emit("disconnect");}setConfiguration(t){t?(this.configuration=t,window.localStorage.setItem(zr,JSON.stringify(t))):(this.configuration=void 0,window.localStorage.removeItem(zr));}};n(Ft,"MagicConnector");b();var Ne=require("@thirdweb-dev/sdk"),oe=require("@thirdweb-dev/sdk/dist/browser"),Nu={mainnet:{id:oe.ChainId.Mainnet,name:"Ethereum Mainnet",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.Mainnet],rpcUrls:["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]},rinkeby:{id:oe.ChainId.Rinkeby,name:"Rinkeby",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.Rinkeby],rpcUrls:["https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://rinkeby.etherscan.io"}],testnet:!0},goerli:{id:oe.ChainId.Goerli,name:"Goerli",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.Goerli],rpcUrls:["https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://goerli.etherscan.io"}],testnet:!0},polygonMainnet:{id:oe.ChainId.Polygon,name:"Polygon Mainnet",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.Polygon],rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://polygonscan.com"}]},polygonTestnetMumbai:{id:oe.ChainId.Mumbai,name:"Mumbai",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.Mumbai],rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],blockExplorers:[{name:"PolygonScan",url:"https://mumbai.polygonscan.com"}],testnet:!0},avalanche:{id:oe.ChainId.Avalanche,name:"Avalanche",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.Avalanche],rpcUrls:["https://api.avax.network/ext/bc/C/rpc","https://rpc.ankr.com/avalanche"],blockExplorers:[{name:"SnowTrace",url:"https://snowtrace.io/"}],testnet:!1},avalancheFujiTestnet:{id:oe.ChainId.AvalancheFujiTestnet,name:"Avalanche Fuji Testnet",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.AvalancheFujiTestnet],rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorers:[{name:"SnowTrace",url:"https://testnet.snowtrace.io/"}],testnet:!0},fantom:{id:oe.ChainId.Fantom,name:"Fantom Opera",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.Fantom],rpcUrls:["https://rpc.ftm.tools"],blockExplorers:[{name:"FTMscan",url:"https://ftmscan.com/"}],testnet:!1},fantomTestnet:{id:oe.ChainId.FantomTestnet,name:"Fantom Testnet",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.FantomTestnet],rpcUrls:["https://rpc.testnet.fantom.network"],blockExplorers:[{name:"FTMscan",url:"https://testnet.ftmscan.com/"}],testnet:!1},optimism:{id:oe.ChainId.Optimism,name:"Optimism",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.Optimism],rpcUrls:["https://mainnet.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://optimistic.etherscan.io/"}],testnet:!1},optimismTestnet:{id:oe.ChainId.OptimismTestnet,name:"Optimism Kovan",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.OptimismTestnet],rpcUrls:["https://kovan.optimism.io"],blockExplorers:[{name:"Etherscan",url:"https://kovan-optimistic.etherscan.io/"}],testnet:!0},arbitrum:{id:oe.ChainId.Arbitrum,name:"Arbitrum One",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.Arbitrum],rpcUrls:["https://arb1.arbitrum.io/rpc"],blockExplorers:[{name:"Arbiscan",url:"https://arbiscan.io/"}],testnet:!1},arbitrumTestnet:{id:oe.ChainId.ArbitrumTestnet,name:"Arbitrum Rinkeby",nativeCurrency:Ne.NATIVE_TOKENS[oe.ChainId.ArbitrumTestnet],rpcUrls:["https://rinkeby.arbitrum.io/rpc"],blockExplorers:[{name:"Arbiscan",url:"https://testnet.arbiscan.io/"}],testnet:!0}},Bt=Object.values(Nu);b();var Ye=require("@thirdweb-dev/sdk/dist/browser"),Ct=ie(require("react")),Vr={[Ye.ChainId.Mainnet]:"mainnet",[Ye.ChainId.Rinkeby]:"rinkeby",[Ye.ChainId.Goerli]:"goerli",[Ye.ChainId.Polygon]:"polygon",[Ye.ChainId.Mumbai]:"mumbai",[Ye.ChainId.Fantom]:"fantom",[Ye.ChainId.Avalanche]:"avalanche"},So=(0, Ct.createContext)({rpcUrlMap:Vr,supportedChains:Bt}),Ro=n(({value:e,children:t})=>Ct.default.createElement(So.Provider,{value:e},t),"ThirdwebConfigProvider");function No(){return (0, Ct.useContext)(So)}n(No,"useThirdwebConfigContext");b();var To=require("ethers"),It=require("react"),_t=require("wagmi");function Wt(){var y,m,w,L,P;let[e,t]=(0, _t.useSigner)(),[r]=(0, _t.useAccount)(),[o]=(0, _t.useNetwork)(),s=(0, It.useRef)(null),a=(y=r.data)==null?void 0:y.address,p=(m=o.data.chain)==null?void 0:m.id,h=xo((w=r.data)==null?void 0:w.address),g=xo((P=(L=o.data)==null?void 0:L.chain)==null?void 0:P.id);return (0, It.useEffect)(()=>{if(a!==h||p!==g)if(s.current)s.current=t().finally(()=>{s.current=null;});else return},[a,p,h,g]),To.Signer.isSigner(e.data)?e.data:void 0}n(Wt,"useSigner");function xo(e){let t=(0, It.useRef)();return (0, It.useEffect)(()=>{t.current=e;},[e]),t.current}n(xo,"usePrevious");var qt=require("@thirdweb-dev/sdk/dist/browser"),ae=ie(require("react")),hr=require("react-query"),gr=ie(require("tiny-invariant")),yr=require("wagmi"),Mo=require("wagmi/connectors/coinbaseWallet"),Oo=require("wagmi/connectors/injected"),Lo=require("wagmi/connectors/walletConnect");function mr(){return mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);}return e},mr.apply(this,arguments)}n(mr,"_extends");var xu={name:"thirdweb powered dApp"},Tu=["metamask","walletConnect","walletLink"],Mu=n(({sdkOptions:e,chainRpc:t=Vr,supportedChains:r=Bt.map(m=>m.id),walletConnectors:o=Tu,dAppMeta:s=xu,desiredChainId:a,storageInterface:p,queryClient:h,autoConnect:g=!0,children:y})=>{let m=(0, ae.useMemo)(()=>r.map(S=>typeof S=="number"?Bt.find(j=>j.id===S):S).filter(S=>S!==void 0),[r]),w=(0, ae.useMemo)(()=>m.reduce((S,j)=>(S[j.id]=j.id in t?(0, qt.getProviderForNetwork)(t[j.id]||j.rpcUrls[0]):j.rpcUrls[0],S),{}),[t,m]),L=(0, ae.useMemo)(()=>{let S={name:s.name,url:s.url||"",icons:[s.logoUrl||""],description:s.description||""},j={appName:s.name,appLogoUrl:s.logoUrl,darkMode:s.isDarkMode};return {autoConnect:g,connectorStorageKey:"tw:provider:connectors",connectors:({chainId:H})=>o.map(T=>{if(typeof T=="string"&&(T==="injected"||T==="metamask")||typeof T=="object"&&(T.name==="injected"||T.name==="metamask"))return new Oo.InjectedConnector({options:typeof T=="string"?{shimDisconnect:!0,shimChainChangedDisconnect:!0}:T.options,chains:m});if(typeof T=="string"&&T==="walletConnect"||typeof T=="object"&&T.name==="walletConnect")return new Lo.WalletConnectConnector({options:typeof T=="string"?{chainId:H,rpc:w,clientMeta:S,qrcode:!0}:V({chainId:H,rpc:w,clientMeta:S,qrcode:!0},T.options),chains:m});if(typeof T=="string"&&(T==="coinbase"||T==="walletLink")||typeof T=="object"&&(T.name==="coinbase"||T.name==="walletLink")){let me=w[H||a||1];return new Mo.CoinbaseWalletConnector({chains:m,options:typeof T=="string"?pe(V({},j),{jsonRpcUrl:me}):V(pe(V({},j),{jsonRpcUrl:me}),T.options)})}if(typeof T=="object"&&T.name==="magic"){let me=w[H||a||1];return new Ft({chains:m,options:pe(V({},T.options),{network:{rpcUrl:me,chainId:a||1},rpcUrls:w})})}return typeof T=="string"&&T==="gnosis"||typeof T=="object"&&T.name==="gnosis"?new nt({chains:m}):null}).filter(T=>T!==null)}},[o,m,s]),P=(0, ae.useMemo)(()=>{var j,H;if(((j=e==null?void 0:e.readonlySettings)==null?void 0:j.rpcUrl)&&((H=e==null?void 0:e.readonlySettings)==null?void 0:H.chainId))return e.readonlySettings;if(!a)return;let S=w[a];try{S=(0,qt.getProviderForNetwork)(S);}catch{console.error(`failed to configure rpc url for chain: "${a}". Did you forget to pass "desiredChainId" to the <ThirdwebProvider /> component?`);return}return {chainId:a,rpcUrl:S}},[w,a]),C=(0, ae.useMemo)(()=>pe(V({},e),{readonlySettings:P}),[e,P]),M=(0, ae.useMemo)(()=>h||new hr.QueryClient,[h]);return ae.default.createElement(Ro,{value:{rpcUrlMap:w,supportedChains:m}},ae.default.createElement(hr.QueryClientProvider,{client:M},ae.default.createElement(yr.WagmiProvider,mr({},L),ae.default.createElement(Ou,{desiredChainId:a,sdkOptions:C,storageInterface:p},y))))},"ThirdwebProvider"),Ou=n(r=>{var o=r,{children:e}=o,t=Me(o,["children"]);let s=(0, yr.useProvider)(),a=Wt();return ae.default.createElement(Po,mr({signer:a,provider:s},t),e)},"ThirdwebSDKProviderWagmiWrapper"),vr=(0, ae.createContext)({desiredChainId:-1}),Po=n(({sdkOptions:e,desiredChainId:t,storageInterface:r,provider:o,signer:s,children:a})=>{let p=(0, ae.useMemo)(()=>{if(!t||typeof window>"u")return;let g=new qt.ThirdwebSDK(o,e,r);return g._chainId=t,g},[o,e,r,t]);(0, ae.useEffect)(()=>{s&&p&&p._chainId===t&&p.updateSignerOrProvider(s);},[s,p,t]);let h=(0, ae.useMemo)(()=>({sdk:p,desiredChainId:t||-1,_inProvider:!0}),[p]);return ae.default.createElement(vr.Provider,{value:h},a)},"ThirdwebSDKProvider");function Pe(){let e=ae.default.useContext(vr);return (0, gr.default)(e._inProvider,"useSDK must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),e.sdk}n(Pe,"useSDK");function Xr(){let e=ae.default.useContext(vr);return (0, gr.default)(e._inProvider,"useDesiredChainId must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),e.desiredChainId}n(Xr,"useDesiredChainId");function te(){var t;let e=ae.default.useContext(vr);return (0, gr.default)(e._inProvider,"useActiveChainId must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),(t=e.sdk)==null?void 0:t._chainId}n(te,"useActiveChainId");b();b();b();function se(e,t){let r=Pe();if(!(!r||!t||!e))return r.getBuiltInContract(t,e)}n(se,"useBuiltinContract");function Lu(e){return se("edition-drop",e)}n(Lu,"useEditionDrop");b();function Pu(e){return se("edition",e)}n(Pu,"useEdition");b();function ku(e){return se("nft-drop",e)}n(ku,"useNFTDrop");b();function $u(e){return se("marketplace",e)}n($u,"useMarketplace");b();function Du(e){return se("nft-collection",e)}n(Du,"useNFTCollection");b();function ju(e){return se("pack",e)}n(ju,"usePack");b();function Uu(e){return se("token",e)}n(Uu,"useToken");b();function Fu(e){return se("token-drop",e)}n(Fu,"useTokenDrop");b();function Bu(e){return se("vote",e)}n(Bu,"useVote");b();function Wu(e){return se("split",e)}n(Wu,"useSplit");b();function qu(e){return se("multiwrap",e)}n(qu,"useMultiwrap");b();function Gu(e){return se("signature-drop",e)}n(Gu,"useSignatureDrop");b();b();var ko=require("wagmi");function xe(){return (0, ko.useConnect)()}n(xe,"useConnect");var $o=require("wagmi");function Ku(e){let t=V({reconnectAfterGnosis:!0},e),[,r]=xe(),[o,s]=(0, $o.useAccount)();return async()=>{var p;let a=((p=o.data)==null?void 0:p.connector)instanceof nt&&o.data.connector.previousConnector||void 0;if(t.reconnectAfterGnosis&&a)try{return await r(a)}catch(h){return console.error("failed to re-connect to previous connector",h),s()}return s()}}n(Ku,"useDisconnect");b();var Do=require("wagmi");function Qe(){var t;let[e]=(0, Do.useAccount)();return (t=e.data)==null?void 0:t.address}n(Qe,"useAddress");b();var jo=require("@thirdweb-dev/sdk/dist/browser"),Uo=require("react");function Hu(e,t,r){return (0, Uo.useMemo)(()=>new jo.ThirdwebSDK(e,pe(V({},t),{readonlySettings:pe(V({},t==null?void 0:t.readonlySettings),{rpcUrl:e})}),r),[e,t])}n(Hu,"useReadonlySDK");b();b();var Fo=require("detect-browser");function zu(e){return (0, Fo.detect)(e)}n(zu,"detectEnv");function Yr(){let e=Qr();return e?e.toLowerCase().includes("android"):!1}n(Yr,"isAndroid");function Vu(){let e=Qr();return e?e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}n(Vu,"isIOS");function Qr(){let e=zu();return e!=null&&e.os?e.os:void 0}n(Qr,"detectOS");function Bo(){return Qr()?Yr()||Vu():!1}n(Bo,"isMobile");var Wo=ie(require("tiny-invariant"));function Xu(){var h;let[e,t]=xe();if(e.loading)return ()=>Promise.reject("Metamask connector not ready to be used, yet");let r=typeof window<"u"&&((h=window.ethereum)==null?void 0:h.isMetaMask),o=Bo()&&!r,s=e.data.connectors.find(g=>g.id==="injected"),a=e.data.connectors.find(g=>g.id==="walletConnect"),p=(o?a:s)||s;return (0, Wo.default)(p,"No connector found, please make sure you provide the InjectedConnector to your <ThirdwebProvider />"),async()=>{if(!r){let g=`https://metamask.app.link/dapp/${window.location.host+window.location.pathname+window.location.search}`;if(o&&p.id==="walletConnect")try{g=(await p.getProvider()).connector.uri,g=Yr()?g:`https://metamask.app.link/dapp/${window.location.host+window.location.pathname+window.location.search}`;}catch(y){console.warn("failed to get provider.connector.uri",y);}return window.open(g,"_blank"),Promise.resolve({error:new Error("metamask not injected")})}return await t(p)}}n(Xu,"useMetamask");b();var qo=ie(require("tiny-invariant"));function Yu(){let[e,t]=xe();if(e.loading)return ()=>Promise.reject("WalletConnect connector not ready to be used, yet");let r=e.data.connectors.find(o=>o.id==="walletConnect");return (0, qo.default)(r,"WalletConnect connector not found, please make sure it is provided to your <ThirdwebProvider />"),()=>t(r)}n(Yu,"useWalletConnect");b();var Go=ie(require("tiny-invariant"));function Ko(){let[e,t]=xe();if(e.loading)return ()=>Promise.reject("Coinbase connector not ready to be used, yet");let r=e.data.connectors.find(o=>o.id==="coinbasewallet");return (0, Go.default)(r,"Coinbase connector not found, please make sure it is provided to your <ThirdwebProvider />"),()=>t(r)}n(Ko,"useCoinbaseWallet");function Qu(){return Ko()}n(Qu,"useWalletLink");b();var Ho=require("ethers"),Gt=ie(require("tiny-invariant"));function Ju(){let[e,t]=xe();if(e.loading)return ()=>Promise.reject("Gnosis connector not ready to be used, yet");let r=e.data.connectors.find(o=>o.id==="gnosis");return (0, Gt.default)(r,"Gnosis connector not found, please make sure it is provided to your <ThirdwebProvider />"),async o=>{let s=e.data.connector,a=await(s==null?void 0:s.getChainId());return (0, Gt.default)(!!s,"Cannot connect to Gnosis Safe without first being connected to a personal wallet."),(0, Gt.default)(a===o.safeChainId,"Gnosis safe chain id must match personal wallet chain id."),(0, Gt.default)(Ho.utils.isAddress(o.safeAddress),"Gnosis safe address must be a valid address."),r.setConfiguration(s,o),t(r)}}n(Ju,"useGnosis");b();var zo=ie(require("tiny-invariant"));function Zu(){let[e,t]=xe();if(e.loading)return ()=>Promise.reject("Magic connector not ready to be used, yet");let r=e.data.connectors.find(o=>o.id==="magic");return (0, zo.default)(r,"Magic connector not found, please make sure it is provided to your <ThirdwebProvider />"),o=>(r.setConfiguration(o),t(r))}n(Zu,"useMagic");b();var Vo=require("wagmi");function Kt(){var e;return (e=(0, Vo.useNetwork)()[0].data.chain)==null?void 0:e.id}n(Kt,"useChainId");b();function el(){let e=Xr(),t=Kt();return e===-1||!t?!1:e!==t}n(el,"useNetworkMismatch");b();var Xo=require("wagmi");function tl(){return (0, Xo.useNetwork)()}n(tl,"useNetwork");var et=require("wagmi"),_r=require("@thirdweb-dev/sdk/dist/browser");b();b();b();var rl="https://gateway.ipfscdn.io/ipfs/",Yo={gatewayUrl:rl};var Qo=ie(require("mime/lite.js"));function Jo(e,t=Yo){if(!!e)return e.startsWith("ipfs://")?e.replace("ipfs://",t.gatewayUrl):e}n(Jo,"resolveIpfsUri");async function Zo(e){if(!e)return;let t=Qo.default.getType(e);if(t)return t;let r=await fetch(e,{method:"HEAD"});if(r.ok&&r.headers.has("content-type"))return r.headers.get("content-type")??void 0}n(Zo,"resolveMimeType");b();var Jr;function nl(e){return typeof window>"u"||!e||!e.startsWith("video/")?"":(Jr||(Jr=document.createElement("video")),Jr.canPlayType(e))}n(nl,"supportsVideoType");function ei(e){return !!nl(e)}n(ei,"shouldRenderVideoTag");var Zr;function ol(e){return typeof window>"u"||!e||!e.startsWith("audio/")?"":(Zr||(Zr=document.createElement("audio")),Zr.canPlayType(e))}n(ol,"supportsAudioType");function ti(e){return !!ol(e)}n(ti,"shouldRenderAudioTag");b();function en(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t);});}}n(en,"mergeRefs");b();var Oe=ie(require("react"));function At(){return At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);}return e},At.apply(this,arguments)}n(At,"_extends");var ri=n(e=>Oe.default.createElement("svg",At({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),Oe.default.createElement("circle",{cx:"9",cy:"28.5",r:"1.5",fill:"currentColor"}),Oe.default.createElement("path",{fill:"currentColor",d:"M10 25H8v-4h2a2 2 0 0 0 0-4H8a2.002 2.002 0 0 0-2 2v.5H4V19a4.005 4.005 0 0 1 4-4h2a4 4 0 0 1 0 8Z"}),Oe.default.createElement("path",{fill:"currentColor",d:"m27.7 9.3l-7-7A.908.908 0 0 0 20 2H10a2.006 2.006 0 0 0-2 2v8h2V4h8v6a2.006 2.006 0 0 0 2 2h6v16H14v2h12a2.006 2.006 0 0 0 2-2V10a.91.91 0 0 0-.3-.7ZM20 10V4.4l5.6 5.6Z"})),"CarbonDocumentUnknown"),ni=n(e=>Oe.default.createElement("svg",At({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),Oe.default.createElement("path",{fill:"currentColor",d:"M29 31a.999.999 0 0 1-.625-.22L23.65 27H20a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1h3.65l4.726-3.78A1 1 0 0 1 30 17v13a1 1 0 0 1-1 1Zm-8-6h3a1 1 0 0 1 .625.22L28 27.92v-8.84l-3.376 2.7A1 1 0 0 1 24 22h-3Z"}),Oe.default.createElement("path",{fill:"currentColor",d:"M16 28H8V4h8v6a2.006 2.006 0 0 0 2 2h6v3h2v-5a.91.91 0 0 0-.3-.7l-7-7A.909.909 0 0 0 18 2H8a2.006 2.006 0 0 0-2 2v24a2.006 2.006 0 0 0 2 2h8Zm2-23.6l5.6 5.6H18Z"})),"CarbonDocumentAudio"),oi=n(e=>Oe.default.createElement("svg",At({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),Oe.default.createElement("path",{fill:"currentColor",d:"M12 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm10 0h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z"})),"CarbonPauseFilled"),ii=n(e=>Oe.default.createElement("svg",At({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),Oe.default.createElement("path",{fill:"currentColor",d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28Z"})),"CarbonPlayFilledAlt");var D=ie(require("react")),si=ie(require("react-cool-dimensions")),ai=require("react-query");function Te(){return Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);}return e},Te.apply(this,arguments)}n(Te,"_extends");var rn=n(({onClick:e,isPlaying:t})=>{let[r,o]=(0, D.useState)(!1),s=n(()=>o(!0),"onMouseEnter"),a=n(()=>o(!1),"onMouseLeave"),p=n(()=>o(!1),"onMouseDown"),h=n(()=>o(!0),"onMouseUp");return D.default.createElement("button",{style:V({position:"absolute",bottom:0,right:0,transform:"translate(-25%, -25%)",maxWidth:"32px",width:"8%",minWidth:"24px",aspectRatio:"1",zIndex:3,backgroundColor:"#fff",color:"rgb(138, 147, 155)",display:"grid",placeItems:"center",borderRadius:"50%",border:"1px solid rgb(229, 232, 235)",cursor:"pointer"},r?{color:"rgb(53, 56, 64)",boxShadow:"rgb(4 17 29 / 25%) 0px 0px 8px 0px"}:{}),onClick:e,onMouseEnter:s,onMouseLeave:a,onMouseDown:p,onMouseUp:h},t?D.default.createElement(oi,{style:{width:"66%",height:"66%"}}):D.default.createElement(ii,{style:{width:"66%",height:"66%"}}))},"PlayButton"),il=D.default.forwardRef((w,m)=>{var L=w,{src:e,alt:t,poster:r,requireInteraction:o,children:s,style:a,width:p,height:h,controls:g}=L,y=Me(L,["src","alt","poster","requireInteraction","children","style","width","height","controls"]);let P=(0, D.useRef)(null),[C,M]=(0, D.useState)(!o),[S,j]=(0, D.useState)(!0);return (0, D.useEffect)(()=>{P.current&&(C?P.current.play():(P.current.pause(),P.current.currentTime=0));},[C]),D.default.createElement("div",Te({style:V({position:"relative"},a)},y),D.default.createElement("video",{ref:en([P,m]),src:e??void 0,poster:r??void 0,loop:!0,playsInline:!0,muted:S,preload:r?"metadata":"auto",onCanPlay:()=>{var H;C&&((H=P.current)==null||H.play());},width:p,height:h,controls:g,style:{height:"100%",width:"100%",objectFit:"contain",zIndex:1,transition:"opacity .5s",opacity:r?C?1:0:1}}),r&&D.default.createElement("img",{src:r,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:C?0:1,top:0,left:0,right:0,bottom:0}}),D.default.createElement(rn,{onClick:()=>{M(H=>!H),j(!1);},isPlaying:C}))}),sl=D.default.forwardRef((w,m)=>{var L=w,{src:e,alt:t,poster:r,requireInteraction:o,children:s,style:a,height:p,width:h,controls:g}=L,y=Me(L,["src","alt","poster","requireInteraction","children","style","height","width","controls"]);let P=(0, D.useRef)(null),[C,M]=(0, D.useState)(!1),[S,j]=(0, D.useState)(!0);return (0, D.useEffect)(()=>{P.current&&(C?P.current.play():(P.current.pause(),P.current.currentTime=0));},[C]),D.default.createElement("div",Te({style:V({position:"relative"},a)},y),r?D.default.createElement("img",{height:p,width:h,src:r,style:{height:"100%",width:"100%",pointerEvents:"none",objectFit:"contain"}}):D.default.createElement("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",pointerEvents:"none",backgroundColor:"#fff",color:"rgb(138, 147, 155)"}},D.default.createElement(ni,{style:{height:"64px",width:"64px"}})),D.default.createElement(rn,{onClick:()=>{M(H=>!H),j(!1);},isPlaying:C}),D.default.createElement("audio",{ref:en([P,m]),src:e??void 0,loop:!0,playsInline:!0,muted:S,style:{position:"absolute",opacity:0,pointerEvents:"none",zIndex:-1,visibility:"hidden"}}))}),al=D.default.forwardRef((w,m)=>{var L=w,{src:e,alt:t,poster:r,requireInteraction:o,children:s,style:a,height:p,width:h,controls:g}=L,y=Me(L,["src","alt","poster","requireInteraction","children","style","height","width","controls"]);let{observe:P,width:C}=(0, si.default)(),[M,S]=(0, D.useState)(!o);return C<300?D.default.createElement("div",{ref:P},D.default.createElement(ui,Te({style:a,src:e,alt:t},y))):D.default.createElement("div",Te({style:V({position:"relative"},a)},y,{ref:P}),D.default.createElement("iframe",{src:M?e??void 0:void 0,ref:m,style:{objectFit:"contain",zIndex:1,height:"100%",width:"100%",transition:"opacity .5s",opacity:r?M?1:0:1}}),r&&D.default.createElement("img",{src:r,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:M?0:1,top:0,left:0,right:0,bottom:0}}),D.default.createElement(rn,{onClick:()=>{S(j=>!j);},isPlaying:M}))}),ui=D.default.forwardRef((w,m)=>{var L=w,{src:e,alt:t,poster:r,requireInteraction:o,children:s,style:a,height:p,width:h,controls:g}=L,y=Me(L,["src","alt","poster","requireInteraction","children","style","height","width","controls"]);return D.default.createElement("div",Te({style:V({position:"relative"},a)},y),D.default.createElement("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",backgroundColor:"#fff",color:"rgb(138, 147, 155)"}},D.default.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center",flexWrap:"nowrap"}},D.default.createElement(ri,{style:{maxWidth:"128px",minWidth:"48px",width:"50%",aspectRatio:"1"}}),D.default.createElement("a",{rel:"noopener noreferrer",style:{textDecoration:"underline",color:"rgb(138, 147, 155)"},href:e??void 0,target:"_blank",ref:m},t||"File"))))}),nn=D.default.forwardRef((g,h)=>{var y=g,{children:e,src:t,poster:r,alt:o,requireInteraction:s=!1,style:a}=y,p=Me(y,["children","src","poster","alt","requireInteraction","style"]);let m=V({objectFit:"contain"},a),w=tn(t??void 0),L=tn(r??void 0);if(w.mimeType){if(w.mimeType==="text/html")return D.default.createElement(al,Te({style:m,src:w.url,poster:L.url,requireInteraction:s},p));if(ei(w.mimeType))return D.default.createElement(il,Te({style:m,src:w.url,poster:L.url,requireInteraction:s},p));if(ti(w.mimeType))return D.default.createElement(sl,Te({style:m,src:w.url,poster:L.url,requireInteraction:s},p));if(w.mimeType.startsWith("image/"))return D.default.createElement("img",Te({style:m,src:w.url,alt:o,ref:h},p))}else return D.default.createElement("img",Te({style:m},p,{ref:h}));return D.default.createElement(ui,Te({style:m,src:w.url,alt:o,ref:h},p))});function tn(e){let t=(0, D.useMemo)(()=>Jo(e),[e]),r=(0, ai.useQuery)(["mime-type",t],()=>Zo(t),{enabled:!!t});return {url:t,mimeType:r.data}}n(tn,"useResolvedMediaType");b();var sn=ie(require("react"));function on(){return on=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);}return e},on.apply(this,arguments)}n(on,"_extends");var ul=sn.default.forwardRef((o,r)=>{var s=o,{metadata:e}=s,t=Me(s,["metadata"]);return sn.default.createElement(nn,on({src:e.animation_url||e.image,poster:e.image,alt:e.name,ref:r},t))});b();b();var ci=require("ethers"),li="tw-cache";function br(e){return e[0]===li?e:[li,...e]}n(br,"createCachekey");function z(e=ci.constants.AddressZero,t=[]){return br(["contract",e,...t])}n(z,"createContractCacheKey");function ke(e,t){return B.network.active(t).concat(e)}n(ke,"createCacheKeyWithNetwork");function ce(e,t,r){return Promise.all([e.invalidateQueries(ke(z(t),r)),e.invalidateQueries(ke(br(["balance"]),r))])}n(ce,"invalidateContractAndBalances");var B={network:{active:e=>br(["chainId",e])},wallet:{balance:(e,t,r)=>ke(br(["balance",{walletAddress:t,tokenAddress:r}]),e)},contract:{type:e=>z(e,["contract-type"]),publishMetadata:e=>z(e,["publish-metadata"]),typeAndPublishMetadata:e=>z(e,["contract-type-and-metadata"]),metadata:e=>z(e,["metadata"]),extractFunctions:e=>z(e,["extractFunctions"]),call:(e,t,r)=>z(e,["call",t,r]),nft:{get:(e,t)=>z(e,["get",{tokenId:t}]),balanceOf:(e,t,r)=>z(e,["balanceOf",{owner:t,tokenId:r}]),query:{all:(e,t)=>z(e,t?["query","all",t]:["query","all"]),totalCirculatingSupply:e=>z(e,["query","totalCirculatingSupply"]),totalCount:e=>z(e,["query","totalCount"]),owned:{all:(e,t)=>z(e,["query","owned","all",t])}},drop:{getAllUnclaimed:(e,t)=>z(e,t?["getAllUnclaimed",t]:["getAllUnclaimed"]),totalUnclaimedSupply:e=>z(e,["totalUnclaimedSupply"]),totalClaimedSupply:e=>z(e,["totalClaimedSupply"])}},token:{totalSupply:e=>z(e,["totalSupply"]),balanceOf:(e,t)=>z(e,["balanceOf",{walletAddress:t}])},marketplace:{getListing:(e,t)=>z(e,["getListing",{listingId:t}]),getAllListings:(e,t)=>z(e,t?["getAllListings",t]:["getAllListings"]),getActiveListings:(e,t)=>z(e,t?["getActiveListings",t]:["getActiveListings"]),getBidBufferBps:e=>z(e,["getBidBufferBps"]),auction:{getWinningBid:(e,t)=>z(e,["auction","getWinningBid",{listingId:t}]),getWinner:(e,t)=>z(e,["auction","getWinner",{listingId:t}])}}},extensions:{claimConditions:{getActive:(e,t)=>z(e,t?["claimConditions","getActive",{tokenId:t}]:["claimConditions","getActive"]),getAll:(e,t)=>z(e,t?["claimConditions","getActive",{tokenId:t}]:["claimConditions","getActive"]),getClaimIneligibilityReasons:(e,t,r)=>z(e,r?["claimConditions","getActive",{tokenId:r},t]:["claimConditions","getActive",t])},sales:{getRecipient:e=>z(e,["sales"])},royalties:{getDefaultRoyaltyInfo:e=>z(e,["royalties"])},platformFees:{get:e=>z(e,["platformFees"])},metadata:{get:e=>z(e,["metadata"])},roles:{getAll:e=>z(e,["roles"]),get:(e,t)=>z(e,["roles",{role:t}])}}};b();var di=require("react-query");function q(e,t,r){let o=te(),s=pe(V({},r),{enabled:!!(o&&(r==null?void 0:r.enabled))});return (0, di.useQuery)(ke(e,o),t,s)}n(q,"useQueryWithNetwork");var Er=require("@thirdweb-dev/sdk/dist/browser"),at=require("react-query"),st=ie(require("tiny-invariant"));async function fi(e,t){if(!(!e||!t))try{return await t.resolveContractType(e)}catch{return "custom"}}n(fi,"fetchContractType");async function pi(e,t){if(!(!e||!t))return await(await t.getPublisher()).fetchContractMetadataFromAddress(e)}n(pi,"fetchContractPublishMetadata");async function an(e,t,r){if(!t||!r)return;let o=await e.fetchQuery(ke(B.contract.type(t),r._chainId),()=>fi(t,r),{staleTime:1/0});if(o!=="custom")return {contractType:o,publishMetadata:null};let s=await e.fetchQuery(ke(B.contract.publishMetadata(t),r._chainId),()=>pi(t,r),{staleTime:1/0});return {contractType:o,publishMetadata:s}}n(an,"fetchContractTypeAndPublishMetadata");function mi(e){var r;if(!e||!e.contractType)return null;let t=null;return e.contractType!=="custom"&&(t=Er.CONTRACTS_MAP[e.contractType].contractAbi),e.contractType==="custom"&&e.publishMetadata&&(t=(r=e.publishMetadata)==null?void 0:r.abi),t}n(mi,"getContractAbi");function un(e,t,r){if(!t||!r||!e||!t.contractType)return null;let o=mi(t);return (0, st.default)(o,`could not resolve any ABI for contract${e}`),r.getContractFromAbi(e,o)}n(un,"getContractFromCombinedTypeAndPublishMetadata");function ll(e){var s;let t=Pe(),r=hi(e);if(!e||!t||!((s=r.data)!=null&&s.contractType))return pe(V({},r),{abi:null});let o=mi(r.data);return pe(V({},r),{abi:o})}n(ll,"useContractAbi");function cl(e){let t=Pe();return q(B.contract.type(e),()=>fi(e,t),{enabled:!!t&&!!e,staleTime:1/0})}n(cl,"useContractType");function dl(e){let t=Pe();return q(B.contract.publishMetadata(e),()=>pi(e,t),{enabled:!!t&&!!e,staleTime:1/0})}n(dl,"useContractPublishMetadata");function hi(e){let t=Pe(),r=(0, at.useQueryClient)();return q(B.contract.typeAndPublishMetadata(e),()=>an(r,e,t),{enabled:!!t&&!!e,staleTime:1/0})}n(hi,"useContractTypeAndPublishMetadata");function fl(e){var s;let t=Pe(),r=hi(e);if(!e||!t||!((s=r.data)!=null&&s.contractType))return pe(V({},r),{contract:null});let o=un(e,r.data,t);return pe(V({},r),{contract:o})}n(fl,"useContract");function pl(e){let t=Pe(),r=(0, at.useQueryClient)(),o=te();return q(B.contract.metadata(e),async()=>{var p;let s=await r.fetchQuery(ke(B.contract.typeAndPublishMetadata(e),o),()=>an(r,e,t),{staleTime:1/0}),a=un(e,s,t);return (0, st.default)((p=a==null?void 0:a.metadata)==null?void 0:p.get,"contract metadata is not available"),await a.metadata.get()},{enabled:!!e||!!t})}n(pl,"useContractMetadata");function ml(e){let t=Pe(),r=(0, at.useQueryClient)(),o=te();return q(B.contract.extractFunctions(e),async()=>{let s=await r.fetchQuery(ke(B.contract.typeAndPublishMetadata(e),o),()=>an(r,e,t),{staleTime:1/0}),a=un(e,s,t);return a instanceof Er.SmartContract?a.publishedMetadata.extractFunctions():null},{enabled:!!e||!!t,staleTime:1/0})}n(ml,"useContractFunctions");function hl(e,t,...r){let o=e==null?void 0:e.getAddress();return q(B.contract.call(o,t,r),()=>((0, st.default)(e,"contract must be defined"),(0, st.default)(t,"function name must be provided"),e.call(t,...r)),{enabled:!!e&&!!t})}n(hl,"useContractData");function gl(e,t){let r=te(),o=e==null?void 0:e.getAddress(),s=(0, at.useQueryClient)();return (0, at.useMutation)(async(...a)=>((0, st.default)(e,"contract must be defined"),(0, st.default)(t,"function name must be provided"),e.call(t,...a)),{onSettled:()=>s.invalidateQueries(ke(z(o),r))})}n(gl,"useContractCall");b();var Je=require("@thirdweb-dev/sdk/dist/browser"),cn=require("ethers"),wr=require("react-query"),le=ie(require("tiny-invariant"));function gi(e,t){return e instanceof Je.Erc721?V({type:"ERC721",supply:1,owner:""},t):V({type:"ERC1155",supply:0,owner:""},t)}n(gi,"convertResponseToNFTType");function ln(e,t){return t.map(r=>gi(e,r))}n(ln,"convertResponseToNFTTypeArray");function yl(e,t){let r=e==null?void 0:e.getAddress();return q(B.contract.nft.get(r,t),async()=>((0, le.default)(e,"No Contract instance provided"),(0, le.default)(e.get,"Contract instance does not support get"),gi(e,await e.get(cn.BigNumber.from(t||0)))),{enabled:!!e&&t!==void 0})}n(yl,"useNFT");function dn(e,t){let r=e==null?void 0:e.getAddress();return q(B.contract.nft.query.all(r,t),async()=>{var o;return (0, le.default)(e,"No Contract instance provided"),(0, le.default)((o=e.query)==null?void 0:o.all,"Contract instance does not support query.all"),ln(e,await e.query.all(t))},{enabled:!!e||!r,keepPreviousData:!0})}n(dn,"useNFTs");function vl(...[e,t]){let r=e==null?void 0:e.getAddress();return q(B.contract.nft.query.totalCirculatingSupply(r),()=>{var o,s;return (0, le.default)(e,"No Contract instance provided"),e instanceof Je.Erc721?((0, le.default)((o=e==null?void 0:e.query)==null?void 0:o.totalCirculatingSupply,"Contract instance does not support query.totalCirculatingSupply"),e.query.totalCirculatingSupply()):((0, le.default)((s=e.query)==null?void 0:s.totalCirculatingSupply,"Contract instance does not support query.getTotalCount"),(0, le.default)(t,"No tokenId provided"),e.query.totalCirculatingSupply(t))},{enabled:!!e})}n(vl,"useTotalCirculatingSupply");function bl(e){let t=e==null?void 0:e.getAddress();return q(B.contract.nft.query.totalCount(t),()=>{var r,o;return (0, le.default)(e,"No Contract instance provided"),e instanceof Je.Erc721?((0, le.default)((r=e==null?void 0:e.query)==null?void 0:r.totalCirculatingSupply,"Contract instance does not support query.totalCirculatingSupply"),e.query.totalCirculatingSupply()):((0, le.default)((o=e.query)==null?void 0:o.totalCount,"Contract instance does not support query.totalCount"),e.query.totalCount())},{enabled:!!e})}n(bl,"useTotalCount");function El(e,t){let r=e==null?void 0:e.getAddress();return q(B.contract.nft.query.owned.all(r,t),async()=>{var o,s,a;return (0, le.default)(e,"No Contract instance provided"),e instanceof Je.Erc721?((0, le.default)((s=(o=e.query)==null?void 0:o.owned)==null?void 0:s.all,"Contract instance does not support query.owned.all"),ln(e,await e.query.owned.all(t))):((0, le.default)((a=e.query)==null?void 0:a.owned,"Contract instance does not support query.owned"),ln(e,await e.query.owned(t)))},{enabled:!!e&&!!t})}n(El,"useOwnedNFTs");function wl(...[e,t,r]){let o=e==null?void 0:e.getAddress();return q(B.contract.nft.balanceOf(o,t,r),()=>((0, le.default)(e,"No Contract instance provided"),(0, le.default)(e.balanceOf,"Contract instance does not support balanceOf"),(0, le.default)(t,"No owner wallet address provided"),e instanceof Je.Erc1155?((0, le.default)(r,"No tokenId provided"),e.balanceOf(t,r)):e.balanceOf(t)),{enabled:!!e&&!!t})}n(wl,"useNFTBalance");function Cl(e){let t=te(),r=e==null?void 0:e.getAddress(),o=(0, wr.useQueryClient)();return (0, wr.useMutation)(async s=>{var a;if((0, le.default)(s.to,'No "to" address provided'),(0, le.default)((a=e==null?void 0:e.mint)==null?void 0:a.to,"contract does not support mint.to"),e instanceof Je.Erc1155){(0, le.default)("supply"in s,"supply not provided");let{to:p,metadata:h,supply:g}=s;return await e.mint.to(p,{metadata:h,supply:cn.BigNumber.from(g||1)})}return await e.mint.to(s.to,s.metadata)},{onSettled:()=>ce(o,r,t)})}n(Cl,"useMintNFT");b();var fn=require("@thirdweb-dev/sdk/dist/browser"),Cr=require("react-query"),De=ie(require("tiny-invariant"));function Il(e,t){let r=e==null?void 0:e.getAddress();return q(B.contract.nft.drop.getAllUnclaimed(r,t),()=>((0, De.default)(e,"No Contract instance provided"),(0, De.default)(e.getAllUnclaimed,"Contract instance does not support getAllUnclaimed"),e.getAllUnclaimed(t)),{enabled:!!e})}n(Il,"useUnclaimedNFTs");function _l(e,t){return dn(e,t)}n(_l,"useClaimedNFTs");function Al(e){let t=e==null?void 0:e.getAddress();return q(B.contract.nft.drop.totalUnclaimedSupply(t),()=>((0, De.default)(e,"No Contract instance provided"),(0, De.default)(e.totalUnclaimedSupply,"Contract instance does not support totalUnclaimedSupply"),e.totalUnclaimedSupply()),{enabled:!!e})}n(Al,"useUnclaimedNFTSupply");function Sl(e){let t=e==null?void 0:e.getAddress();return q(B.contract.nft.drop.totalClaimedSupply(t),()=>((0, De.default)(e,"No Contract instance provided"),e instanceof fn.Erc1155?e.getTotalCount():((0, De.default)(e.totalClaimedSupply,"Contract instance does not support totalClaimedSupply"),e.totalClaimedSupply())),{enabled:!!e})}n(Sl,"useClaimedNFTSupply");function Rl(e){let t=te(),r=e==null?void 0:e.getAddress(),o=(0, Cr.useQueryClient)();return (0, Cr.useMutation)(async s=>{if((0, De.default)(s.to,'No "to" address provided'),(0, De.default)(e==null?void 0:e.claimTo,"contract does not support claimTo"),e instanceof fn.Erc1155){(0, De.default)("tokenId"in s,"tokenId not provided");let{to:a,tokenId:p,quantity:h,proofs:g}=s;return await e.claimTo(a,p,h,g)}return await e.claimTo(s.to,s.quantity,s.proofs)},{onSettled:()=>ce(o,r,t)})}n(Rl,"useClaimNFT");b();var yi=require("@thirdweb-dev/sdk/dist/browser"),Ir=require("ethers"),je=require("react-query"),we=ie(require("tiny-invariant"));function Nl(e,t){let r=e==null?void 0:e.getAddress();return q(B.contract.marketplace.getListing(r,t),()=>((0, we.default)(e,"No Contract instance provided"),e.getListing(Ir.BigNumber.from(t||0))),{enabled:!!e||!r,keepPreviousData:!0})}n(Nl,"useListing");function xl(e,t){let r=e==null?void 0:e.getAddress();return q(B.contract.marketplace.getAllListings(r,t),()=>((0, we.default)(e,"No Contract instance provided"),e.getAllListings(t)),{enabled:!!e||!r,keepPreviousData:!0})}n(xl,"useListings");function Tl(e,t){let r=e==null?void 0:e.getAddress();return q(B.contract.marketplace.getActiveListings(r,t),()=>((0, we.default)(e,"No Contract instance provided"),e.getActiveListings(t)),{enabled:!!e||!r,keepPreviousData:!0})}n(Tl,"useActiveListings");function Ml(e,t){let r=e==null?void 0:e.getAddress();return q(B.contract.marketplace.auction.getWinningBid(r,t),()=>((0, we.default)(e,"No Contract instance provided"),e.auction.getWinningBid(Ir.BigNumber.from(t||0))),{enabled:!!e&&t!==void 0})}n(Ml,"useWinningBid");function Ol(e,t){let r=e==null?void 0:e.getAddress();return q(B.contract.marketplace.auction.getWinner(r,t),async()=>{var s;(0, we.default)(e,"No Contract instance provided");let o;try{o=await e.auction.getWinner(Ir.BigNumber.from(t||0));}catch(a){if(!((s=a==null?void 0:a.message)!=null&&s.includes("Could not find auction")))throw a}return o},{enabled:!!e&&t!==void 0})}n(Ol,"useAuctionWinner");function Ll(e){let t=e==null?void 0:e.getAddress();return q(B.contract.marketplace.getBidBufferBps(t),()=>((0, we.default)(e,"No Contract instance provided"),e.getBidBufferBps()),{enabled:!!e})}n(Ll,"useBidBuffer");function Pl(e){let t=te(),r=e==null?void 0:e.getAddress(),o=(0, je.useQueryClient)(),s=Qe();return (0, je.useMutation)(async a=>{var p;return (0, we.default)(s,"no wallet connected, cannot create listing"),(0, we.default)((p=e==null?void 0:e.direct)==null?void 0:p.createListing,"contract does not support direct.createListing"),await e.direct.createListing(a)},{onSettled:()=>ce(o,r,t)})}n(Pl,"useCreateDirectListing");function kl(e){let t=te(),r=e==null?void 0:e.getAddress(),o=(0, je.useQueryClient)(),s=Qe();return (0, je.useMutation)(async a=>{var p;return (0, we.default)(s,"no wallet connected, cannot create listing"),(0, we.default)((p=e==null?void 0:e.direct)==null?void 0:p.createListing,"contract does not support auction.createListing"),await e.auction.createListing(a)},{onSettled:()=>ce(o,r,t)})}n(kl,"useCreateAuctionListing");function $l(e){let t=te(),r=e==null?void 0:e.getAddress(),o=(0, je.useQueryClient)(),s=Qe();return (0, je.useMutation)(async a=>{var p;return (0, we.default)(s,"no wallet connected, cannot make bid"),(0, we.default)((p=e==null?void 0:e.auction)==null?void 0:p.makeBid,"contract does not support auction.makeBid"),await e.auction.makeBid(a.listingId,a.bid)},{onSettled:()=>ce(o,r,t)})}n($l,"useMakeBid");function Dl(e){let t=te(),r=e==null?void 0:e.getAddress(),o=(0, je.useQueryClient)(),s=Qe();return (0, je.useMutation)(async a=>{var p;return (0, we.default)(s,"no wallet connected, cannot make bid"),a.type===yi.ListingType.Direct?((0, we.default)(e==null?void 0:e.direct.buyoutListing,"contract does not support direct.buyoutListing"),await e.direct.buyoutListing(a.id,a.buyAmount,a.buyForWallet)):((0, we.default)((p=e==null?void 0:e.auction)==null?void 0:p.buyoutListing,"contract does not support auction.buyoutListing"),await e.auction.buyoutListing(a.id))},{onSettled:()=>ce(o,r,t)})}n(Dl,"useBuyNow");b();var St=require("react-query"),ut=ie(require("tiny-invariant"));function jl(e){let t=e==null?void 0:e.getAddress();return q(B.contract.token.totalSupply(t),()=>((0, ut.default)(e,"No Contract instance provided"),e.totalSupply()),{enabled:!!e||!!t})}n(jl,"useTokenSupply");function Ul(e,t){let r=e==null?void 0:e.getAddress();return q(B.contract.token.balanceOf(r,t),async()=>((0, ut.default)(e,"No Contract instance provided"),(0, ut.default)(t,"No address provided"),await e.balanceOf(t)),{enabled:!!t&&!!e})}n(Ul,"useTokenBalance");function Fl(e){let t=te(),r=e==null?void 0:e.getAddress(),o=(0, St.useQueryClient)();return (0, St.useMutation)(s=>{var h;let{to:a,amount:p}=s;return (0, ut.default)((h=e==null?void 0:e.mint)==null?void 0:h.to,"contract does not support mint.to"),e.mint.to(a,p)},{onSettled:()=>ce(o,r,t)})}n(Fl,"useMintToken");function Bl(e){let t=te(),r=e==null?void 0:e.getAddress(),o=(0, St.useQueryClient)();return (0, St.useMutation)(async s=>((0, ut.default)(s.to,'No "to" address provided'),(0, ut.default)(e==null?void 0:e.claimTo,"contract does not support claimTo"),await e.claimTo(s.to,s.amount,s.proofs)),{onSettled:()=>ce(o,r,t)})}n(Bl,"useClaimToken");b();var lt=require("@thirdweb-dev/sdk/dist/browser"),Ue=ie(require("tiny-invariant"));function Wl(...[e,t]){let r=e==null?void 0:e.getAddress();return q(B.extensions.claimConditions.getActive(r,t),()=>((0, Ue.default)(e,"No Contract instance provided"),(0, Ue.default)(e.claimConditions.getActive,"Contract instance does not support claimConditions.getActive"),e instanceof lt.Erc1155?((0, Ue.default)(t,"tokenId is required for ERC1155 claim conditions"),e.claimConditions.getActive(t)):e.claimConditions.getActive()),{enabled:e instanceof lt.Erc1155?t!==void 0:!!e})}n(Wl,"useActiveClaimCondition");function ql(...[e,t]){let r=e==null?void 0:e.getAddress();return q(B.extensions.claimConditions.getAll(r,t),()=>((0, Ue.default)(e,"No Contract instance provided"),(0, Ue.default)(e.claimConditions.getAll,"Contract instance does not support claimConditions.getAll"),e instanceof lt.Erc1155?((0, Ue.default)(t,"tokenId is required for ERC1155 claim conditions"),e.claimConditions.getAll(t)):e.claimConditions.getAll()),{enabled:e instanceof lt.Erc1155?t!==void 0:!!e})}n(ql,"useClaimConditions");function Gl(...[e,t,r]){let o=e==null?void 0:e.getAddress();return q(B.extensions.claimConditions.getClaimIneligibilityReasons(o,t,r),()=>((0, Ue.default)(e,"No Contract instance provided"),(0, Ue.default)(e.claimConditions.getClaimIneligibilityReasons,"Contract instance does not support claimConditions.getClaimIneligibilityReasons"),e instanceof lt.Erc1155?((0, Ue.default)(r,"tokenId is required for ERC1155 claim ineligibility reasons"),e.claimConditions.getClaimIneligibilityReasons(r,t.quantity,t.walletAddress)):e.claimConditions.getClaimIneligibilityReasons(t.quantity,t.walletAddress)),{enabled:(e instanceof lt.Erc1155?r!==void 0:!!e)&&!!t&&!!t.walletAddress})}n(Gl,"useClaimIneligibilityReasons");b();var vi=require("@thirdweb-dev/sdk/dist/browser"),pn=require("react"),bi=require("react-query");function Kl(e){let{rpcUrlMap:t}=No(),r=Kt(),o=Wt(),s=Qe(),a=(0, pn.useMemo)(()=>{if(o)return new vi.UserWallet(o,{readonlySettings:{rpcUrl:t[r],chainId:r}})},[o,r]),p=(0, pn.useMemo)(()=>B.wallet.balance(r,s,e),[r,e,s]);return (0, bi.useQuery)(p,()=>a==null?void 0:a.balance(e),{enabled:!!a&&!!s,retry:!0,keepPreviousData:!1})}n(Kl,"useBalance");b();var Fe=require("react-query"),be=ie(require("tiny-invariant"));function Hl(e){let t=e==null?void 0:e.getAddress();return q(B.extensions.sales.getRecipient(t),()=>((0, be.default)(e,"No contract provided"),(0, be.default)("sales"in e&&e.sales,"Contract does not support primarySale"),e.sales.getRecipient()),{enabled:!!e||!!t})}n(Hl,"usePrimarySaleRecipient");function zl(e){let t=(0, Fe.useQueryClient)(),r=e==null?void 0:e.getAddress(),o=te();return (0, Fe.useMutation)(s=>((0, be.default)(e,"No contract provided"),(0, be.default)("sales"in e&&e.sales,"Contract does not support primarySale"),e.sales.setRecipient(s)),{onSettled:()=>ce(t,r,o)})}n(zl,"useUpdatePrimarySaleRecipient");function Vl(e){let t=e==null?void 0:e.getAddress();return q(B.extensions.royalties.getDefaultRoyaltyInfo(t),()=>((0, be.default)(e,"No contract provided"),(0, be.default)("royalties"in e&&e.royalties,"Contract does not support royalties"),e.royalties.getDefaultRoyaltyInfo()),{enabled:!!e||!!t})}n(Vl,"useRoyaltySettings");function Xl(e){let t=(0, Fe.useQueryClient)(),r=e==null?void 0:e.getAddress(),o=te();return (0, Fe.useMutation)(s=>((0, be.default)(e,"No contract provided"),(0, be.default)("royalties"in e&&e.royalties,"Contract does not support royalties"),e.royalties.setDefaultRoyaltyInfo(s)),{onSettled:()=>ce(t,r,o)})}n(Xl,"useUpdateRoyaltySettings");function Yl(e){let t=e==null?void 0:e.getAddress();return q(B.extensions.platformFees.get(t),()=>((0, be.default)(e,"No contract provided"),(0, be.default)("platformFees"in e&&e.platformFees,"Contract does not support platformFees"),e.platformFees.get()),{enabled:!!e||!!t})}n(Yl,"usePlatformFees");function Ql(e){let t=(0, Fe.useQueryClient)(),r=e==null?void 0:e.getAddress(),o=te();return (0, Fe.useMutation)(s=>((0, be.default)(e,"No contract provided"),(0, be.default)("platformFees"in e&&e.platformFees,"Contract does not support platformFees"),e.platformFees.set(s)),{onSettled:()=>ce(t,r,o)})}n(Ql,"useUpdatePlatformFees");function Jl(e){let t=e==null?void 0:e.getAddress();return q(B.extensions.metadata.get(t),()=>((0, be.default)(e,"No contract provided"),(0, be.default)("metadata"in e&&e.metadata,"Contract does not support metadata"),e.metadata.get()),{enabled:!!e||!!t})}n(Jl,"useMetadata");function Zl(e){let t=(0, Fe.useQueryClient)(),r=e==null?void 0:e.getAddress(),o=te();return (0, Fe.useMutation)(s=>((0, be.default)(e,"No contract provided"),(0, be.default)("metadata"in e&&e.metadata,"Contract does not support metadata"),e.metadata.update(s)),{onSettled:()=>ce(t,r,o)})}n(Zl,"useUpdateMetadata");b();var Ei=require("ethers"),Ze=require("react-query"),$e=ie(require("tiny-invariant"));function ec(e){let t=e==null?void 0:e.getAddress();return q(B.extensions.roles.getAll(t),()=>((0, $e.default)(e,"No contract provided"),(0, $e.default)(e.roles,"Contract does not support roles"),e.roles.getAll()),{enabled:!!e&&!!t})}n(ec,"useAllRoleMembers");function wi(e,t){let r=e==null?void 0:e.getAddress();return q(B.extensions.roles.get(r,t),()=>((0, $e.default)(e,"No contract provided"),(0, $e.default)(e.roles,"Contract does not support roles"),e.roles.get(t)),{enabled:!!e&&!!r&&!!t})}n(wi,"useRoleMembers");function tc(e,t,r){let o=!!(e&&e.roles),{data:s}=wi(o?e:void 0,t);return o===!1||s!=null&&s.includes(Ei.constants.AddressZero)?!0:!!(r&&(s==null?void 0:s.includes(r)))}n(tc,"useIsAddressRole");function rc(e){let t=te(),r=e==null?void 0:e.getAddress(),o=(0, Ze.useQueryClient)();return (0, Ze.useMutation)(async s=>{(0, $e.default)(e,"No contract provided"),(0, $e.default)(e.roles,"Contract does not support roles"),await e.roles.setAll(s);},{onSettled:()=>ce(o,r,t)})}n(rc,"useSetAllRoleMembers");function nc(e){let t=te(),r=e==null?void 0:e.getAddress(),o=(0, Ze.useQueryClient)();return (0, Ze.useMutation)(async s=>{(0, $e.default)(e,"No contract provided"),(0, $e.default)(e.roles,"Contract does not support roles"),await e.roles.grant(s.role,s.address);},{onSettled:()=>ce(o,r,t)})}n(nc,"useGrantRole");function oc(e){let t=te(),r=e==null?void 0:e.getAddress(),o=(0, Ze.useQueryClient)();return (0, Ze.useMutation)(async s=>{(0, $e.default)(e,"No contract provided"),(0, $e.default)(e.roles,"Contract does not support roles"),await e.roles.revoke(s.role,s.address);},{onSettled:()=>ce(o,r,t)})}n(oc,"useRevokeRole");b();
//# sourceMappingURL=index.js.map